(globalThis.webpackChunk_openmrs_esm_patient_lists_app=globalThis.webpackChunk_openmrs_esm_patient_lists_app||[]).push([[205],{3684:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var a=n(272),i=n.n(a),s=n(2609),l=n.n(s)()(i());l.push([t.id,".-esm-patient-lists__patient-list-details-table__skeletonContainer___C9fWl{margin:1rem}.-esm-patient-lists__patient-list-details-table__dataTableSkeleton___UNaqm{background-color:rgba(0,0,0,0);padding:0rem}.-esm-patient-lists__patient-list-details-table__tile___RLchu{border:1px solid #e0e0e0;padding:1.5rem 0;margin:0 1rem;text-align:center}.-esm-patient-lists__patient-list-details-table__link___GUzwp{cursor:pointer;text-decoration:none}.-esm-patient-lists__patient-list-details-table__emptyStateContainer___QhJgK{background-color:#fff}.-esm-patient-lists__patient-list-details-table__illo___PH3NZ{margin-top:1rem}.-esm-patient-lists__patient-list-details-table__content___El0Y3{font-size:var(--cds-heading-compact-01-font-size, 0.875rem);font-weight:var(--cds-heading-compact-01-font-weight, 600);line-height:var(--cds-heading-compact-01-line-height, 1.28572);letter-spacing:var(--cds-heading-compact-01-letter-spacing, 0.16px);color:#525252;margin-top:1rem;margin-bottom:.5rem}.-esm-patient-lists__patient-list-details-table__filterEmptyStateTile___j2Vcb{margin:auto}.-esm-patient-lists__patient-list-details-table__filterEmptyState___hQE5K{align-items:center;background-color:#fff;display:flex;justify-content:center;padding:3rem !important;text-align:center}.-esm-patient-lists__patient-list-details-table__filterEmptyStateContent___wQ2Ow{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0);color:#525252;margin-bottom:.5rem}.-esm-patient-lists__patient-list-details-table__filterEmptyStateHelper___BVq6c{font-size:var(--cds-body-compact-01-font-size, 0.875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, 0.16px);color:#525252}","",{version:3,sources:["webpack://./src/workspaces/patient-list-details-table.scss","webpack://./../../node_modules/@carbon/layout/scss/generated/_spacing.scss","webpack://./../../node_modules/@carbon/colors/index.scss","webpack://./../../node_modules/@carbon/type/scss/_styles.scss"],names:[],mappings:"AAIA,2EACE,WC0BW,CDvBb,2EACE,8BAAA,CACA,YAAA,CAGF,8DACE,wBAAA,CACA,gBAAA,CACA,aAAA,CACA,iBAAA,CAGF,8DACE,cAAA,CACA,oBAAA,CAGF,6EACE,qBEgGQ,CF7FV,8DACE,eCCW,CDEb,iEGi0BI,2DAAA,CAAA,0DAAA,CAAA,8DAAA,CAAA,mEAAA,CH/zBF,aEaQ,CFZR,eCLW,CDMX,mBChBW,CDmBb,8EACE,WAAA,CAGF,0EACE,kBAAA,CACA,qBE4EQ,CF3ER,YAAA,CACA,sBAAA,CACA,uBAAA,CACA,iBAAA,CAGF,iFG6yBI,uDAAA,CAAA,0DAAA,CAAA,4DAAA,CAAA,8DAAA,CH3yBF,aEPQ,CFQR,mBAAA,CAGF,gFGuyBI,wDAAA,CAAA,uDAAA,CAAA,2DAAA,CAAA,gEAAA,CHryBF,aEbQ",sourceRoot:""}]),l.locals={skeletonContainer:"-esm-patient-lists__patient-list-details-table__skeletonContainer___C9fWl",dataTableSkeleton:"-esm-patient-lists__patient-list-details-table__dataTableSkeleton___UNaqm",tile:"-esm-patient-lists__patient-list-details-table__tile___RLchu",link:"-esm-patient-lists__patient-list-details-table__link___GUzwp",emptyStateContainer:"-esm-patient-lists__patient-list-details-table__emptyStateContainer___QhJgK",illo:"-esm-patient-lists__patient-list-details-table__illo___PH3NZ",content:"-esm-patient-lists__patient-list-details-table__content___El0Y3",filterEmptyStateTile:"-esm-patient-lists__patient-list-details-table__filterEmptyStateTile___j2Vcb",filterEmptyState:"-esm-patient-lists__patient-list-details-table__filterEmptyState___hQE5K",filterEmptyStateContent:"-esm-patient-lists__patient-list-details-table__filterEmptyStateContent___wQ2Ow",filterEmptyStateHelper:"-esm-patient-lists__patient-list-details-table__filterEmptyStateHelper___BVq6c"};const r=l},4550:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var a=n(272),i=n.n(a),s=n(2609),l=n.n(s)()(i());l.push([t.id,".-esm-patient-lists__patient-list-details__container___toiQH{background-color:#fff;height:calc(100vh - 6rem)}.-esm-patient-lists__patient-list-details__backButton___PFTb2{margin:0 1rem;padding:.5rem 0}.-esm-patient-lists__patient-list-details__backButton___PFTb2 button{display:flex;padding-left:0 !important}.-esm-patient-lists__patient-list-details__backButton___PFTb2 button svg{order:1;margin-right:.5rem;margin-left:0 !important}.-esm-patient-lists__patient-list-details__backButton___PFTb2 button span{order:2}.-esm-patient-lists__patient-list-details__header___b8MaH{background-color:#f4f4f4;display:flex;flex-direction:column;justify-content:space-between;border-bottom:1px solid #e0e0e0;padding:.75rem 1rem;padding-right:0}.-esm-patient-lists__patient-list-details__description___cIgU8{font-size:var(--cds-body-short-02-font-size, 1rem);font-weight:var(--cds-body-short-02-font-weight, 400);line-height:var(--cds-body-short-02-line-height, 1.375);letter-spacing:var(--cds-body-short-02-letter-spacing, 0);margin-top:.5rem}.-esm-patient-lists__patient-list-details__label___sFvnK{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px)}.-esm-patient-lists__patient-list-details__details___tQ_FZ{font-size:var(--cds-body-compact-01-font-size, 0.875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, 0.16px);color:#525252;margin-top:.5rem}.-esm-patient-lists__patient-list-details__tableContainer___Xe54p{margin-top:.25rem}","",{version:3,sources:["webpack://./src/workspaces/patient-list-details.scss","webpack://./../../node_modules/@carbon/colors/index.scss","webpack://./../../node_modules/@carbon/type/scss/_styles.scss","webpack://./../../node_modules/@carbon/layout/scss/generated/_spacing.scss"],names:[],mappings:"AAMA,6DACE,qBCmHQ,CDlHR,yBAAA,CAGF,8DACE,aAAA,CACA,eAAA,CAEA,qEACE,YAAA,CACA,yBAAA,CAEA,yEACE,OAAA,CACA,kBAAA,CACA,wBAAA,CAGF,0EACE,OAAA,CAKN,0DACE,wBCUQ,CDTR,YAAA,CACA,qBAAA,CACA,6BAAA,CACA,+BAAA,CACA,mBAAA,CACA,eAAA,CAGF,+DEyzBI,kDAAA,CAAA,qDAAA,CAAA,uDAAA,CAAA,yDAAA,CFvzBF,gBGtBW,CHyBb,yDEozBI,gDAAA,CAAA,gDAAA,CAAA,oDAAA,CAAA,yDAAA,CFhzBJ,2DEgzBI,wDAAA,CAAA,uDAAA,CAAA,2DAAA,CAAA,gEAAA,CF9yBF,aCJQ,CDKR,gBGhCW,CHmCb,kEACE,iBGzCW",sourceRoot:""}]),l.locals={container:"-esm-patient-lists__patient-list-details__container___toiQH",backButton:"-esm-patient-lists__patient-list-details__backButton___PFTb2",header:"-esm-patient-lists__patient-list-details__header___b8MaH",description:"-esm-patient-lists__patient-list-details__description___cIgU8",label:"-esm-patient-lists__patient-list-details__label___sFvnK",details:"-esm-patient-lists__patient-list-details__details___tQ_FZ",tableContainer:"-esm-patient-lists__patient-list-details__tableContainer___Xe54p"};const r=l},4478:t=>{var e;e={},t.exports=e,e.simpleFilter=function(t,n){return n.filter((function(n){return e.test(t,n)}))},e.test=function(t,n){return null!==e.match(t,n)},e.match=function(t,e,n){n=n||{};var a,i=0,s=[],l=e.length,r=0,o=0,c=n.pre||"",p=n.post||"",A=n.caseSensitive&&e||e.toLowerCase();t=n.caseSensitive&&t||t.toLowerCase();for(var _=0;_<l;_++)a=e[_],A[_]===t[i]?(a=c+a+p,i+=1,o+=1+o):o=0,r+=o,s[s.length]=a;return i===t.length?(r=A===t?1/0:r,{rendered:s.join(""),score:r}):null},e.filter=function(t,n,a){return n&&0!==n.length?"string"!=typeof t?n:(a=a||{},n.reduce((function(n,i,s,l){var r=i;a.extract&&(r=a.extract(i));var o=e.match(t,r,a);return null!=o&&(n[n.length]={string:o.rendered,score:o.score,index:s,original:i}),n}),[]).sort((function(t,e){return e.score-t.score||t.index-e.index}))):[]}},6714:(t,e,n)=>{"use strict";n.d(e,{a:()=>s,s:()=>l});var a=n(3255),i=n(2870);function s(){var t,e=new URLSearchParams({v:"custom:(uuid,name,description,display,size,attributes,cohortType,startDate,endDate)",totalCount:"true"}),n=(0,a.ZP)("/ws/rest/v1/cohortm/cohort?"+e,i.openmrsFetch),s=n.data,l=n.error,r=n.isLoading;return{patientLists:(null==s||null===(t=s.data)||void 0===t?void 0:t.results)?s.data.results.map((function(t){return{attributes:t.attributes,description:t.description,id:t.uuid,name:t.name,size:t.size,startDate:t.startDate,type:t.cohortType.display}})):[],isLoading:r,error:l}}function l(t){var e,n=new URLSearchParams({cohort:t,startIndex:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",limit:arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",q:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",v:"full"}),s=(0,a.ZP)(t?"/ws/rest/v1/cohortm/cohortmember?"+n:null,i.openmrsFetch),l=s.data,r=s.error,o=s.isLoading;return{listMembers:(null==l||null===(e=l.data)||void 0===e?void 0:e.results)?l.data.results.map((function(t){var e,n,a,s,l,r,o,c;return{identifier:null!==(c=null==t||null===(n=t.patient)||void 0===n||null===(e=n.identifiers[0])||void 0===e?void 0:e.identifier)&&void 0!==c?c:null,membershipUuid:null==t?void 0:t.uuid,name:null==t||null===(s=t.patient)||void 0===s||null===(a=s.person)||void 0===a?void 0:a.display,sex:null==t||null===(r=t.patient)||void 0===r||null===(l=r.person)||void 0===l?void 0:l.gender,startDate:(0,i.formatDate)((0,i.parseDate)(null==t?void 0:t.startDate)),patientUuid:"".concat(null==t||null===(o=t.patient)||void 0===o?void 0:o.uuid)}})):[],isLoading:o,error:r}}},5205:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>N});var a=n(268),i=n.n(a),s=n(4924),l=n(5132),r=n(8871),o=n(2821),c=n(2870),p=n(6714),A=n(4478),_=n.n(A),d=n(321),m=n.n(d),u=n(1195),b=n.n(u),f=n(3275),g=n.n(f),h=n(7162),C=n.n(h),y=n(2094),v=n.n(y),E=n(757),w=n.n(E),k=n(3684),D={};D.styleTagTransform=w(),D.setAttributes=C(),D.insert=g().bind(null,"head"),D.domAPI=b(),D.insertStyleElement=v(),m()(k.Z,D);const B=k.Z&&k.Z.locals?k.Z.locals:void 0;function S(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function F(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),a.forEach((function(e){F(t,e,n[e])}))}return t}const P=function(t){var e,n,r=t.listMembers,p=t.isLoading,A=(0,s.useTranslation)().t,d=(0,a.useId)(),m=(0,c.useLayoutType)(),u=(0,c.isDesktop)(m)?"sm":"lg",b=(e=(0,a.useState)(""),n=2,function(t){if(Array.isArray(t))return t}(e)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var a,i,s=[],l=!0,r=!1;try{for(n=n.call(t);!(l=(a=n.next()).done)&&(s.push(a.value),!e||s.length!==e);l=!0);}catch(t){r=!0,i=t}finally{try{l||null==n.return||n.return()}finally{if(r)throw i}}return s}}(e,n)||function(t,e){if(t){if("string"==typeof t)return S(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(t,e):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),f=b[0],g=b[1],h=(0,c.useDebounce)(f),C=(0,a.useMemo)((function(){return[{key:"name",header:A("name","Name")},{key:"identifier",header:A("identifier","Identifier")},{key:"sex",header:A("sex","Sex")},{key:"startDate",header:A("startDate","Start Date")}]}),[A]),y=(0,a.useMemo)((function(){return h&&h?_().filter(h,r,{extract:function(t){return"".concat(t.name," ").concat(t.identifier," ").concat(t.sex)}}).sort((function(t,e){return t.score-e.score})).map((function(t){return t.original})):r}),[h,r]),v=(0,a.useMemo)((function(){var t;return null!==(t=null==y?void 0:y.map((function(t){return O({id:t.patientUuid},t)})))&&void 0!==t?t:[]}),[y]);return p?i().createElement("div",{className:B.skeletonContainer},i().createElement(l.gqd,{className:B.dataTableSkeleton,rowCount:5,columnCount:5,zebra:!0})):(null==r?void 0:r.length)>0?i().createElement("section",null,i().createElement(i().Fragment,null,i().createElement(l.mh4,null,i().createElement(l.olm,{id:"".concat(d,"-search"),labelText:"",onChange:function(t){return g(t.target.value)},placeholder:A("searchThisList","Search this list"),size:u})),i().createElement(l.wQF,{"aria-label":"patient list details",rows:v,headers:C,size:u,useZebraStyles:!0},(function(t){var e=t.rows,n=t.headers,a=t.getHeaderProps,s=t.getTableProps,o=t.getRowProps;return i().createElement(l.xJi,null,i().createElement(l.iA_,s(),i().createElement(l.ssF,null,i().createElement(l.SCH,null,n.map((function(t){var e,n;return i().createElement(l.xDH,a({header:t,isSortable:t.isSortable}),null!==(n=null===(e=t.header)||void 0===e?void 0:e.content)&&void 0!==n?n:t.header)})))),i().createElement(l.RMI,null,e.map((function(t){var e,n,a=r.find((function(e){return e.patientUuid===t.id}));return i().createElement(l.SCH,(e=O({},o({row:t})),n=null!=(n={key:t.id})?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);n.push.apply(n,a)}return n}(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})),e),i().createElement(l.pj1,null,i().createElement(c.ConfigurableLink,{className:B.link,key:t.id,to:window.getOpenmrsSpaBase()+"patient/".concat(a.patientUuid,"/chart")},a.name)),i().createElement(l.pj1,null,a.identifier),i().createElement(l.pj1,null,a.sex),i().createElement(l.pj1,null,a.startDate))})))))})),0===(null==y?void 0:y.length)?i().createElement("div",{className:B.filterEmptyState},i().createElement(l.mh4,{level:0},i().createElement(l.n9L,{className:B.filterEmptyStateTile},i().createElement("p",{className:B.filterEmptyStateContent},A("noMatchingPatients","No matching patients to display")),i().createElement("p",{className:B.filterEmptyStateHelper},A("checkFilters","Check the filters above"))))):null)):i().createElement("div",{className:B.emptyStateContainer},i().createElement(l.mh4,null,i().createElement(l.n9L,{className:B.tile},i().createElement("div",{className:B.illo},i().createElement(o.EmptyDataIllustration,null)),i().createElement("p",{className:B.content},A("noPatientsInList","There are no patients in this list")))))};var x=n(4550),j={};j.styleTagTransform=w(),j.setAttributes=C(),j.insert=g().bind(null,"head"),j.domAPI=b(),j.insertStyleElement=v(),m()(x.Z,j);const z=x.Z&&x.Z.locals?x.Z.locals:void 0;function T(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const N=function(t){var e,n=t.list,A=(0,s.useTranslation)().t,_=(0,p.s)(n.id),d=_.listMembers,m=_.isLoading,u=(0,a.useCallback)((function(){(0,o.launchPatientWorkspace)("patient-lists")}),[]);return i().createElement("main",{className:z.container},i().createElement("section",{className:z.header},i().createElement("h4",{className:z.description},null!==(e=n.description)&&void 0!==e?e:"--"),i().createElement("p",{className:z.details},n.size," ",A("patients","patients")," Â·"," ",i().createElement("span",{className:z.label},A("createdOn","Created on"),":")," ",n.startDate?(0,c.formatDate)((0,c.parseDate)(n.startDate)):null)),i().createElement("div",{className:z.backButton},i().createElement(l.zxk,{kind:"ghost",renderIcon:function(t){return i().createElement(r.Xd,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),a.forEach((function(e){T(t,e,n[e])}))}return t}({size:24},t))},iconDescription:"Back to patient lists",size:"sm",onClick:u},i().createElement("span",null,A("backToPatientLists","Back to patient lists")))),i().createElement("section",{className:z.tableContainer},i().createElement(P,{isLoading:m,listMembers:d})))}}}]);