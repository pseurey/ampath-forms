(globalThis.webpackChunk_openmrs_esm_patient_conditions_app=globalThis.webpackChunk_openmrs_esm_patient_conditions_app||[]).push([[405],{4361:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(272),o=n.n(i),r=n(2609),a=n.n(r)()(o());a.push([e.id,".-esm-patient-conditions__conditions-action-menu__layer___IrqhU{height:100%}.-esm-patient-conditions__conditions-action-menu__layer___IrqhU .cds--overflow-menu{min-height:unset}.-esm-patient-conditions__conditions-action-menu__menuItem___nh9uE{max-width:none}","",{version:3,sources:["webpack://./src/conditions/conditions-action-menu.scss"],names:[],mappings:"AAAA,gEACE,WAAA,CAEA,oFACE,gBAAA,CAIJ,mEACE,cAAA",sourceRoot:""}]),a.locals={layer:"-esm-patient-conditions__conditions-action-menu__layer___IrqhU",menuItem:"-esm-patient-conditions__conditions-action-menu__menuItem___nh9uE"};const c=a},652:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(272),o=n.n(i),r=n(2609),a=n.n(r)()(o());a.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-patient-conditions__conditions-detailed-summary__widgetCard___cVJ0B{border:1px solid #e0e0e0}.-esm-patient-conditions__conditions-detailed-summary__divider___APi0z{width:1px;height:1rem;color:#e0e0e0;margin:0 1rem}.-esm-patient-conditions__conditions-detailed-summary__rightMostFlexContainer___mRLqf{display:flex;justify-content:center;align-items:center}.-esm-patient-conditions__conditions-detailed-summary__filterContainer___FcuQG .cds--dropdown__wrapper--inline{gap:0}.-esm-patient-conditions__conditions-detailed-summary__filterContainer___FcuQG .cds--list-box__menu-icon{height:1rem}.-esm-patient-conditions__conditions-detailed-summary__filterContainer___FcuQG .cds--dropdown--inline .cds--list-box__menu{min-width:10rem}.-esm-patient-conditions__conditions-detailed-summary__content___SYwda{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0);color:#525252;margin-bottom:.5rem}.-esm-patient-conditions__conditions-detailed-summary__tileContainer___KVhzT{background-color:#fff;border-top:1px solid #e0e0e0;padding:5rem 0}.-esm-patient-conditions__conditions-detailed-summary__tile___pKYNO{margin:auto;width:fit-content}.-esm-patient-conditions__conditions-detailed-summary__tileContent___wBVBK{display:flex;flex-direction:column;align-items:center}.-esm-patient-conditions__conditions-detailed-summary__helper___U97md{font-size:var(--cds-body-compact-01-font-size, 0.875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, 0.16px);color:#525252}","",{version:3,sources:["webpack://./../../node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/conditions/conditions-detailed-summary.scss","webpack://./../../node_modules/@carbon/layout/scss/generated/_spacing.scss","webpack://./../../node_modules/@carbon/colors/index.scss","webpack://./../../node_modules/@carbon/type/scss/_styles.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CClDF,0EACE,wBAAA,CAGF,uEACE,SAAA,CACA,WCoBW,CDnBX,aE+BQ,CF9BR,aAAA,CAGF,sFACE,YAAA,CACA,sBAAA,CACA,kBAAA,CAIA,+GACE,KAAA,CAGF,yGACE,WAAA,CAGF,2HACE,eAAA,CAIJ,uEG8zBI,uDAAA,CAAA,0DAAA,CAAA,4DAAA,CAAA,8DAAA,CH5zBF,aDjCQ,CCkCR,mBAAA,CAGF,6EACE,qBD1CM,CC2CN,4BAAA,CACA,cAAA,CAGF,oEACE,WAAA,CACA,iBAAA,CAGF,2EACE,YAAA,CACA,qBAAA,CACA,kBAAA,CAGF,sEGuyBI,wDAAA,CAAA,uDAAA,CAAA,2DAAA,CAAA,gEAAA,CHryBF,aDxDQ",sourceRoot:""}]),a.locals={widgetCard:"-esm-patient-conditions__conditions-detailed-summary__widgetCard___cVJ0B",divider:"-esm-patient-conditions__conditions-detailed-summary__divider___APi0z",rightMostFlexContainer:"-esm-patient-conditions__conditions-detailed-summary__rightMostFlexContainer___mRLqf",filterContainer:"-esm-patient-conditions__conditions-detailed-summary__filterContainer___FcuQG",content:"-esm-patient-conditions__conditions-detailed-summary__content___SYwda",tileContainer:"-esm-patient-conditions__conditions-detailed-summary__tileContainer___KVhzT",tile:"-esm-patient-conditions__conditions-detailed-summary__tile___pKYNO",tileContent:"-esm-patient-conditions__conditions-detailed-summary__tileContent___wBVBK",helper:"-esm-patient-conditions__conditions-detailed-summary__helper___U97md"};const c=a},5404:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(272),o=n.n(i),r=n(2609),a=n.n(r)()(o());a.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-patient-conditions__conditions-overview__widgetCard___zm6zm{border:1px solid #e0e0e0}.-esm-patient-conditions__conditions-overview__divider___dd6XY{width:1px;height:1rem;color:#e0e0e0;margin:0 1rem}.-esm-patient-conditions__conditions-overview__rightMostFlexContainer___nrDpv{display:flex;justify-content:center;align-items:center}.-esm-patient-conditions__conditions-overview__filterContainer___ulv9R .cds--dropdown__wrapper--inline{gap:0}.-esm-patient-conditions__conditions-overview__filterContainer___ulv9R .cds--list-box__menu-icon{height:1rem}.-esm-patient-conditions__conditions-overview__filterContainer___ulv9R .cds--dropdown--inline .cds--list-box__menu{min-width:10rem}.-esm-patient-conditions__conditions-overview__content___UWffk{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0);color:#525252;margin-bottom:.5rem}.-esm-patient-conditions__conditions-overview__tileContainer___MQfc8{background-color:#fff;border-top:1px solid #e0e0e0;padding:5rem 0}.-esm-patient-conditions__conditions-overview__tile___Qiv8e{margin:auto;width:fit-content}.-esm-patient-conditions__conditions-overview__tileContent___PP_jv{display:flex;flex-direction:column;align-items:center}.-esm-patient-conditions__conditions-overview__helper___aKU8G{font-size:var(--cds-body-compact-01-font-size, 0.875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, 0.16px);color:#525252}","",{version:3,sources:["webpack://./../../node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/conditions/conditions-overview.scss","webpack://./../../node_modules/@carbon/layout/scss/generated/_spacing.scss","webpack://./../../node_modules/@carbon/colors/index.scss","webpack://./../../node_modules/@carbon/type/scss/_styles.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CClDF,kEACE,wBAAA,CAGF,+DACE,SAAA,CACA,WCoBW,CDnBX,aE+BQ,CF9BR,aAAA,CAGF,8EACE,YAAA,CACA,sBAAA,CACA,kBAAA,CAIA,uGACE,KAAA,CAGF,iGACE,WAAA,CAGF,mHACE,eAAA,CAIJ,+DG8zBI,uDAAA,CAAA,0DAAA,CAAA,4DAAA,CAAA,8DAAA,CH5zBF,aDjCQ,CCkCR,mBAAA,CAGF,qEACE,qBD1CM,CC2CN,4BAAA,CACA,cAAA,CAGF,4DACE,WAAA,CACA,iBAAA,CAGF,mEACE,YAAA,CACA,qBAAA,CACA,kBAAA,CAGF,8DGuyBI,wDAAA,CAAA,uDAAA,CAAA,2DAAA,CAAA,gEAAA,CHryBF,aDxDQ",sourceRoot:""}]),a.locals={widgetCard:"-esm-patient-conditions__conditions-overview__widgetCard___zm6zm",divider:"-esm-patient-conditions__conditions-overview__divider___dd6XY",rightMostFlexContainer:"-esm-patient-conditions__conditions-overview__rightMostFlexContainer___nrDpv",filterContainer:"-esm-patient-conditions__conditions-overview__filterContainer___ulv9R",content:"-esm-patient-conditions__conditions-overview__content___UWffk",tileContainer:"-esm-patient-conditions__conditions-overview__tileContainer___MQfc8",tile:"-esm-patient-conditions__conditions-overview__tile___Qiv8e",tileContent:"-esm-patient-conditions__conditions-overview__tileContent___PP_jv",helper:"-esm-patient-conditions__conditions-overview__helper___aKU8G"};const c=a},679:(e,t,n)=>{"use strict";n.d(t,{B6:()=>A,CL:()=>u,l4:()=>s,r4:()=>p,sA:()=>l});var i=n(3255),o=n(2870);function r(e,t,n,i,o,r,a){try{var c=e[r](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(i,o)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function c(e){r(a,i,o,c,s,"next",e)}function s(e){r(a,i,o,c,s,"throw",e)}c(void 0)}))}}function c(e,t){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(r){return function(c){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,c])}}}function s(e){var t,n,r="".concat(o.fhirBaseUrl,"/Condition?patient=").concat(e,"&_count=100"),a=(0,i.ZP)(e?r:null,o.openmrsFetch),c=a.data,s=a.error,l=a.isLoading,u=a.isValidating,m=a.mutate,p=(null==c||null===(t=c.data)||void 0===t?void 0:t.total)>0?null==c||null===(n=c.data)||void 0===n?void 0:n.entry.map((function(e){var t;return null!==(t=e.resource)&&void 0!==t?t:[]})).map(d).sort((function(e,t){return t.onsetDateTime>e.onsetDateTime?1:-1})):null;return{conditions:c?p:null,isError:s,isLoading:l,isValidating:u,mutate:m}}function l(e){var t,n,r=(0,o.useConfig)(),a=null==r?void 0:r.conditionConceptClassUuid,c="/ws/rest/v1/conceptsearch?conceptClasses=".concat(a,"&q=").concat(e),s=(0,i.ZP)(e?c:null,o.openmrsFetch),l=s.data,d=s.error,u=s.isLoading;return{searchResults:null!==(n=null==l||null===(t=l.data)||void 0===t?void 0:t.results)&&void 0!==n?n:[],error:d,isSearching:u}}function d(e){var t,n,i,o,r,a,c=null==e||null===(n=e.clinicalStatus)||void 0===n||null===(t=n.coding[0])||void 0===t?void 0:t.code;return{clinicalStatus:c?c.charAt(0).toUpperCase()+c.slice(1).toLowerCase():"",conceptId:null==e||null===(o=e.code)||void 0===o||null===(i=o.coding[0])||void 0===i?void 0:i.code,display:null==e||null===(a=e.code)||void 0===a||null===(r=a.coding[0])||void 0===r?void 0:r.display,onsetDateTime:null==e?void 0:e.onsetDateTime,recordedDate:null==e?void 0:e.recordedDate,id:null==e?void 0:e.id}}function u(e){return m.apply(this,arguments)}function m(){return(m=a((function(e){var t,n,i;return c(this,(function(r){switch(r.label){case 0:return t=new AbortController,n="".concat(o.fhirBaseUrl,"/Condition"),i={clinicalStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-clinical",code:e.clinicalStatus}]},code:{coding:[{code:e.conceptId,display:e.display}]},endDate:e.endDate,onsetDateTime:e.onsetDateTime,recorder:{reference:"Practitioner/".concat(e.userId)},recordedDate:(new Date).toISOString(),resourceType:"Condition",subject:{reference:"Patient/".concat(e.patientId)}},[4,(0,o.openmrsFetch)(n,{headers:{"Content-Type":"application/json"},method:"POST",body:i,signal:t.signal})];case 1:return[2,r.sent()]}}))}))).apply(this,arguments)}function p(e,t){return _.apply(this,arguments)}function _(){return(_=a((function(e,t){var n,i,r;return c(this,(function(a){switch(a.label){case 0:return n=new AbortController,i="".concat(o.fhirBaseUrl,"/Condition/").concat(e),r={clinicalStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-clinical",code:t.clinicalStatus}]},code:{coding:[{code:t.conceptId,display:t.display}]},endDate:t.endDate,id:e,onsetDateTime:t.onsetDateTime,recorder:{reference:"Practitioner/".concat(t.userId)},recordedDate:(new Date).toISOString(),resourceType:"Condition",subject:{reference:"Patient/".concat(t.patientId)}},[4,(0,o.openmrsFetch)(i,{headers:{"Content-Type":"application/json"},method:"PUT",body:r,signal:n.signal})];case 1:return[2,a.sent()]}}))}))).apply(this,arguments)}function A(e){return f.apply(this,arguments)}function f(){return(f=a((function(e){var t,n;return c(this,(function(i){switch(i.label){case 0:return t=new AbortController,n="".concat(o.fhirBaseUrl,"/Condition/").concat(e),[4,(0,o.openmrsFetch)(n,{method:"DELETE",signal:t.signal})];case 1:return[2,i.sent()]}}))}))).apply(this,arguments)}},3405:(e,t,n)=>{"use strict";n.r(t),n.d(t,{conditionDeleteConfirmationDialog:()=>ee,conditionsDashboardLink:()=>$,conditionsDetailedSummary:()=>J,conditionsOverview:()=>Y,conditionsWidget:()=>X,importTranslation:()=>W,startupApp:()=>K});var i=n(2870),o=n(2821),r={conditionConceptClassUuid:{_type:i.Type.ConceptUuid,_description:"The concept class UUID for conditions",_default:"8d4918b0-c2cc-11de-8d13-0010c6dffd0f"},conditionPageSize:{_type:i.Type.Number,_description:"The default page size for the conditions",_default:5}},a=n(268),c=n.n(a),s=n(2779),l=n.n(s),d=n(4924),u=n(3840),m=n(8871),p=n(321),_=n.n(p),A=n(1195),f=n.n(A),y=n(3275),v=n.n(y),C=n(7162),h=n.n(C),g=n(2094),b=n.n(g),w=n(757),E=n.n(w),D=n(4361),S={};S.styleTagTransform=E(),S.setAttributes=h(),S.insert=v().bind(null,"head"),S.domAPI=f(),S.insertStyleElement=b(),_()(D.Z,S);const O=D.Z&&D.Z.locals?D.Z.locals:void 0;var k=function(e){var t=e.condition,n=e.patientUuid,r=(0,d.useTranslation)().t,s="tablet"===(0,i.useLayoutType)(),l=(0,a.useCallback)((function(){return(0,o.launchPatientWorkspace)("conditions-form-workspace",{workspaceTitle:r("editCondition","Edit a Condition"),condition:t,formContext:"editing"})}),[t,r]);return c().createElement(u.mh4,{className:O.layer},c().createElement(u.PQB,{"aria-label":"Edit or delete condition",size:s?"lg":"sm",flipped:!0,align:"left"},c().createElement(u.laM,{className:O.menuItem,id:"editCondition",onClick:l,itemText:r("edit","Edit")}),c().createElement(u.laM,{className:O.menuItem,id:"deleteCondition",itemText:r("delete","Delete"),onClick:function(){return e=t.id,void(o=(0,i.showModal)("condition-delete-confirmation-dialog",{closeDeleteModal:function(){return o()},conditionId:e,patientUuid:n}));var e,o},isDelete:!0,hasDivider:!0})))},j=n(679),P=n(5404),T={};T.styleTagTransform=E(),T.setAttributes=h(),T.insert=v().bind(null,"head"),T.domAPI=f(),T.insertStyleElement=b(),_()(P.Z,T);const x=P.Z&&P.Z.locals?P.Z.locals:void 0;function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){B(e,t,n[t])}))}return e}function N(e,t){if(e===t||!e&&!t)return 0;if(e){if(t){var n=(0,i.parseDate)(e),o=(0,i.parseDate)(t);return n===o?0:n<o?-1:1}return 1}return-1}var z=n(652),G={};G.styleTagTransform=E(),G.setAttributes=h(),G.insert=v().bind(null,"head"),G.domAPI=f(),G.insertStyleElement=b(),_()(z.Z,G);const M=z.Z&&z.Z.locals?z.Z.locals:void 0;function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){U(e,t,n[t])}))}return e}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Z="@openmrs/esm-patient-conditions-app",Q={featureName:"patient-conditions",moduleName:Z},W=n(3979);function K(){(0,i.defineConfigSchema)(Z,r)}var q,V,Y=(0,i.getSyncLifecycle)((function(e){var t,n,r=e.patientUuid,s=(0,i.useConfig)().conditionPageSize,p=(0,d.useTranslation)().t,_=p("conditions","Conditions"),A=p("conditions","Conditions"),f=p("seeAll","See all"),y="${openmrsSpaBase}/patient/".concat(r,"/chart/Conditions"),v=(0,i.useLayoutType)(),C=(0,i.isDesktop)(v),h=!C,g=(0,j.l4)(r),b=g.conditions,w=g.isError,E=g.isLoading,D=g.isValidating,S=(t=(0,a.useState)("Active"),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(r.push(i.value),!t||r.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return r}}(t,n)||function(e,t){if(e){if("string"==typeof e)return F(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?F(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),O=S[0],P=S[1],T=(0,a.useCallback)((function(){return(0,o.launchPatientWorkspace)("conditions-form-workspace")}),[]),B=(0,a.useMemo)((function(){return O&&"All"!=O&&O?null==b?void 0:b.filter((function(e){return e.clinicalStatus===O})):b}),[O,b]),N=(0,i.usePagination)(null!=B?B:[],s),z=N.results,G=N.goTo,M=N.currentPage,L=[{key:"display",header:p("condition","Condition")},{key:"onsetDateTime",header:p("dateOfOnset","Date of onset")},{key:"clinicalStatus",header:p("status","Status")}],U=(0,a.useMemo)((function(){return null==z?void 0:z.map((function(e){return function(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n.push.apply(n,i)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}(I({},e),{onsetDateTime:e.onsetDateTime?(0,i.formatDate)((0,i.parseDate)(e.onsetDateTime),{time:!1,day:!1}):"--"})}))}),[z]);return E?c().createElement(u.gqd,{role:"progressbar",compact:C,zebra:!0}):w?c().createElement(o.ErrorState,{error:w,headerTitle:A}):(null==b?void 0:b.length)?c().createElement("div",{className:x.widgetCard},c().createElement(o.CardHeader,{title:A},c().createElement("span",null,D?c().createElement(u.lSo,null):null),c().createElement("div",{className:x.rightMostFlexContainer},c().createElement("div",{className:x.filterContainer},c().createElement(u.Ltx,{id:"conditionStatusFilter",initialSelectedItem:"Active",label:"",titleText:p("show","Show")+":",type:"inline",items:["All","Active","Inactive"],onChange:function(e){var t=e.selectedItem;return P(t)},size:h?"lg":"sm"})),c().createElement("div",{className:x.divider},"|"),c().createElement(u.zxk,{kind:"ghost",renderIcon:function(e){return c().createElement(m.mm,I({size:16},e))},iconDescription:"Add conditions",onClick:T},p("add","Add")))),c().createElement(u.wQF,{"aria-label":"conditions overview",rows:U,headers:L,isSortable:!0,size:h?"lg":"sm",useZebraStyles:!0,overflowMenuOnHover:C},(function(e){var t=e.rows,n=e.headers,i=e.getHeaderProps,o=e.getTableProps;return c().createElement(c().Fragment,null,c().createElement(u.xJi,null,c().createElement(u.iA_,o(),c().createElement(u.ssF,null,c().createElement(u.SCH,null,n.map((function(e){var t,n;return c().createElement(u.xDH,I({className:l()(x.productiveHeading01,x.text02)},i({header:e,isSortable:e.isSortable})),null!==(n=null===(t=e.header)||void 0===t?void 0:t.content)&&void 0!==n?n:e.header)})),c().createElement(u.xDH,null))),c().createElement(u.RMI,null,t.map((function(e){return c().createElement(u.SCH,{key:e.id},e.cells.map((function(e){var t,n;return c().createElement(u.pj1,{key:e.id},null!==(n=null===(t=e.value)||void 0===t?void 0:t.content)&&void 0!==n?n:e.value)})),c().createElement(u.pj1,{className:"cds--table-column-menu"},c().createElement(k,{condition:e})))}))))),0===t.length?c().createElement("div",{className:x.tileContainer},c().createElement(u.n9L,{className:x.tile},c().createElement("div",{className:x.tileContent},c().createElement("p",{className:x.content},p("noConditionsToDisplay","No conditions to display")),c().createElement("p",{className:x.helper},p("checkFilters","Check the filters above"))))):null)})),c().createElement(o.PatientChartPagination,{currentItems:z.length,onPageNumberChange:function(e){var t=e.page;return G(t)},pageNumber:M,pageSize:s,totalItems:B.length,dashboardLinkUrl:y,dashboardLinkLabel:f})):c().createElement(o.EmptyState,{displayText:_,headerTitle:A,launchForm:T})}),Q),J=(0,i.getSyncLifecycle)((function(e){var t,n,r=e.patient,s=(0,d.useTranslation)().t,p=s("conditions","Conditions"),_=s("conditions","Conditions"),A=(t=(0,a.useState)("Active"),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(r.push(i.value),!t||r.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return r}}(t,n)||function(e,t){if(e){if("string"==typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?L(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),f=A[0],y=A[1],v=(0,i.useLayoutType)(),C="tablet"===v,h="small-desktop"===v||"large-desktop"===v,g=(0,j.l4)(r.id),b=g.conditions,w=g.isError,E=g.isLoading,D=g.isValidating,S=(0,a.useMemo)((function(){return f&&"All"!=f&&f?null==b?void 0:b.filter((function(e){return e.clinicalStatus===f})):b}),[f,b]),O=(0,a.useMemo)((function(){return[{key:"display",header:s("condition","Condition")},{key:"onsetDateTime",header:s("dateOfOnset","Date of onset")},{key:"clinicalStatus",header:s("status","Status")}]}),[s]),P=(0,a.useMemo)((function(){return null==S?void 0:S.map((function(e){var t;return function(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n.push.apply(n,i)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}(H({},e),{id:e.id,condition:e.display,onsetDateTime:{sortKey:null!==(t=e.onsetDateTime)&&void 0!==t?t:"",content:e.onsetDateTime?(0,i.formatDate)((0,i.parseDate)(e.onsetDateTime),{time:!1,day:!1}):"--"},status:e.clinicalStatus})}))}),[S]),T=(0,a.useCallback)((function(){return(0,o.launchPatientWorkspace)("conditions-form-workspace")}),[]);return E?c().createElement(u.gqd,{role:"progressbar",compact:h,zebra:!0}):w?c().createElement(o.ErrorState,{error:w,headerTitle:_}):(null==b?void 0:b.length)?c().createElement("div",{className:M.widgetCard},c().createElement(o.CardHeader,{title:_},c().createElement("span",null,D?c().createElement(u.lSo,null):null),c().createElement("div",{className:M.rightMostFlexContainer},c().createElement("div",{className:M.filterContainer},c().createElement(u.Ltx,{id:"conditionStatusFilter",initialSelectedItem:"Active",label:"",titleText:s("show","Show")+":",type:"inline",items:["All","Active","Inactive"],onChange:function(e){var t=e.selectedItem;return y(t)},size:C?"lg":"sm"})),c().createElement("div",{className:M.divider},"|"),c().createElement(u.zxk,{kind:"ghost",renderIcon:function(e){return c().createElement(m.mm,H({size:16},e))},iconDescription:"Add conditions",onClick:T},s("add","Add")))),c().createElement(u.wQF,{rows:P,sortRow:function(e,t,n){return n.sortDirection===n.sortStates.DESC?N(t.sortKey,e.sortKey):N(e.sortKey,t.sortKey)},headers:O,isSortable:!0,size:C?"lg":"sm",useZebraStyles:!0,overflowMenuOnHover:h},(function(e){var t=e.rows,n=e.headers,i=e.getHeaderProps,o=e.getTableProps,a=e.getRowProps;return c().createElement(c().Fragment,null,c().createElement(u.xJi,null,c().createElement(u.iA_,H({"aria-label":"conditions summary"},o()),c().createElement(u.ssF,null,c().createElement(u.SCH,null,n.map((function(e){var t,n;return c().createElement(u.xDH,H({className:l()(M.productiveHeading01,M.text02)},i({header:e,isSortable:e.isSortable})),null!==(n=null===(t=e.header)||void 0===t?void 0:t.content)&&void 0!==n?n:e.header)})),c().createElement(u.xDH,null))),c().createElement(u.RMI,null,t.map((function(e){return c().createElement(u.SCH,H({key:e.id},a({row:e})),e.cells.map((function(e){var t,n;return c().createElement(u.pj1,{key:e.id},null!==(n=null===(t=e.value)||void 0===t?void 0:t.content)&&void 0!==n?n:e.value)})),c().createElement(u.pj1,{className:"cds--table-column-menu"},c().createElement(k,{patientUuid:r.id,condition:e})))}))))),0===t.length?c().createElement("div",{className:M.tileContainer},c().createElement(u.n9L,{className:M.tile},c().createElement("div",{className:M.tileContent},c().createElement("p",{className:M.content},s("noConditionsToDisplay","No conditions to display")),c().createElement("p",{className:M.helper},s("checkFilters","Check the filters above"))))):null)}))):c().createElement(o.EmptyState,{displayText:p,headerTitle:_,launchForm:T})}),Q),X=(0,i.getAsyncLifecycle)((function(){return Promise.all([n.e(2),n.e(845)]).then(n.bind(n,1845))}),Q),$=(0,i.getSyncLifecycle)((0,o.createDashboardLink)((q=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){R(e,t,n[t])}))}return e}({},{slot:"patient-chart-conditions-dashboard-slot",columns:1,path:"Conditions",title:"Conditions"}),V=null!=(V={moduleName:Z})?V:{},Object.getOwnPropertyDescriptors?Object.defineProperties(q,Object.getOwnPropertyDescriptors(V)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n.push.apply(n,i)}return n}(Object(V)).forEach((function(e){Object.defineProperty(q,e,Object.getOwnPropertyDescriptor(V,e))})),q)),Q),ee=(0,i.getAsyncLifecycle)((function(){return n.e(526).then(n.bind(n,9526))}),Q);(0,o.registerWorkspace)({name:"conditions-form-workspace",load:(0,i.getAsyncLifecycle)((function(){return Promise.all([n.e(2),n.e(940),n.e(941)]).then(n.bind(n,8941))}),Q),title:(0,i.translateFrom)(Z,"recordCondition","Record a Condition")})},3979:(e,t,n)=>{var i={"./am.json":[8788,788],"./ar.json":[4460,460],"./en.json":[3574,574],"./es.json":[8319,319],"./fr.json":[2757,757],"./he.json":[5833,833],"./km.json":[7807,807],"./zh.json":[8271,271],"./zh_CN.json":[1644,644]};function o(e){if(!n.o(i,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=i[e],o=t[0];return n.e(t[1]).then((()=>n(o)))}o.keys=()=>Object.keys(i),o.id=3979,e.exports=o}}]);