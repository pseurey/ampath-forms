"use strict";(self.webpackChunkopenmrs=self.webpackChunkopenmrs||[]).push([[162],{4162:(e,t,n)=>{n.r(t),n.d(t,{run:()=>ut});var r=n(8749),o=n(521),i=n(5497),a={bootstrap:function(){return Promise.resolve()},mount:function(){return Promise.resolve()},unmount:function(){return Promise.resolve()}};function c(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){c(i,r,o,a,u,"next",e)}function u(e){c(i,r,o,a,u,"throw",e)}a(void 0)}))}}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=[];function f(e){if(Array.isArray(e)){var t=e.map(f);return function(e){return t.some((function(t){return t(e)}))}}return"string"==typeof e?(0,r.pathToActiveWhen)(window.getOpenmrsSpaBase()+e):(n=e,(null!=(o=RegExp)&&"undefined"!=typeof Symbol&&o[Symbol.hasInstance]?o[Symbol.hasInstance](n):n instanceof o)?function(t){return function(e,t){return e.test(t.pathname.replace(window.getOpenmrsSpaBase(),""))}(e,t)}:function(){return e});var n,o}var p="startupApp",d=new Map;function h(e,t){return u((function(){var n;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}(this,(function(r){switch(r.label){case 0:return[4,(0,i.importDynamic)(e)];case 1:return(n=r.sent())&&Object.hasOwn(n,t)&&"function"==typeof n[t]?e in d?[3,3]:[4,d[e]=new Promise((function(e,t){if(Object.hasOwn(n,p)){var r=n[p];if("function"==typeof r)return Promise.resolve(r()).then(e).catch(t)}e(null)}))]:[3,6];case 2:return r.sent(),[3,5];case 3:return[4,d[e]];case 4:r.sent(),r.label=5;case 5:return[2,Promise.resolve(n[t]())];case 6:n&&Object.hasOwn(n,t)?console.warn("The export ".concat(t," of the app ").concat(e," is not a function")):console.warn("The app ".concat(e," does not define a component called ").concat(t,", this cannot be loaded")),r.label=7;case 7:return[2,a]}}))}))}function v(e,t){if(e&&t&&"object"==typeof t){var n,r;(0,o.registerModuleWithConfigSystem)(e);var i=null!==(r=t.extensions)&&void 0!==r?r:[];null===(n=t.pages)||void 0===n||n.forEach((function(t){var n,r,o;t&&"object"==typeof t&&Object.hasOwn(t,"component")&&(Object.hasOwn(t,"route")||Object.hasOwn(t,"routeRegex")||Object.hasOwn(t,"routes"))?l.push((r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){s(e,t,n[t])}))}return e}({},t),o=null!=(o={order:null!==(n=t.order)&&void 0!==n?n:Number.MAX_SAFE_INTEGER,appName:e})?o:{},Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(o)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})),r)):console.warn("A page for ".concat(e," could not be registered as it does not appear to have the required properties"),t)})),i.forEach((function(t){t&&"object"==typeof t&&Object.hasOwn(t,"name")&&Object.hasOwn(t,"component")?y(e,t):console.warn("An extension for ".concat(e," could not be registered as it does not appear to have the required properties"),t)}))}}function m(){l.sort((function(e,t){var n=e.order-t.order;return 0!=n?n:e.appName.localeCompare(t.appName,"en")}));var e=new Map,t=!0,n=!1,r=void 0;try{for(var o,i=l[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;e.has(a.appName)?e.set(a.appName,e.get(a.appName)+1):e.set(a.appName,0);var c=e.get(a.appName),u="".concat(a.appName,"-page-").concat(c),s=document.createElement("div");s.id="single-spa-application:".concat(u),document.body.appendChild(s),g(u,a)}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}}function g(e,t){var n=void 0!==t.route?t.route:void 0!==t.routeRegex&&new RegExp(t.routeRegex);if(!1!==n)if(t.component){var o=function(e,t){var n=t.online,r=t.offline;return function(t){return!!(navigator.onLine&&(null==n||n)||!navigator.onLine&&null!=r&&r)&&e(t)}}(f(n),t),i=h(t.appName,t.component);(0,r.registerApplication)(e,i,o)}else console.warn('A registered page definition is missing a component and thus cannot be registered.\nTo fix this, ensure that you define the "component" field inside the page definition.',e);else console.warn('A registered page definition is missing a route and thus cannot be registered.\nTo fix this, ensure that you define the "route" (or alternatively the "routeRegex") field inside the extension definition.',e)}function y(e,t){var n=t.name;if(n){t.slots&&t.slot&&console.warn("The extension ".concat(n," from ").concat(e," declares both a 'slots' property and\na 'slot' property. Only the 'slots' property will be honored."));var r=t.slots?t.slots:t.slot?[t.slot]:[];if(t.component||t.load){var o,a,c=void 0;if(t.component)c=h(e,t.component);else if(t.load){if("function"!=typeof t.load)return void console.error("The extension ".concat(n," from ").concat(e," declares a 'load' property that is not a function. This is not\nsupported, so the extension will not be loaded."));c=t.load}c&&(0,i.registerExtension)({name:n,load:c,meta:t.meta||{},order:t.order,moduleName:e,privileges:t.privileges,online:null===(o=t.online)||void 0===o||o,offline:null!==(a=t.offline)&&void 0!==a&&a,featureFlag:t.featureFlag});var u=!0,s=!1,l=void 0;try{for(var f,p=r[Symbol.iterator]();!(u=(f=p.next()).done);u=!0){var d=f.value;(0,i.attach)(d,n)}}catch(e){s=!0,l=e}finally{try{u||null==p.return||p.return()}finally{if(s)throw l}}}else console.error("The extension ".concat(n," from ").concat(e," is missing a 'component' entry and thus cannot be registered.\nTo fix this, ensure that you define a 'component' field inside the extension definition."),t)}else console.error("An extension definition in ".concat(e,' is missing an name and thus cannot be\nregistered. To fix this, ensure that you define the "name" field inside the\nextension definition.'),t)}var b=n(5928),w=n.n(b),S=n(8146),x=n(900),O=[],k=O.forEach,A=O.slice,j=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,P={name:"cookie",lookup:function(e){var t;if(e.lookupCookie&&"undefined"!=typeof document){var n=function(e){for(var t="".concat(e,"="),n=document.cookie.split(";"),r=0;r<n.length;r++){for(var o=n[r];" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(t))return o.substring(t.length,o.length)}return null}(e.lookupCookie);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupCookie&&"undefined"!=typeof document&&function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{path:"/",sameSite:"strict"};n&&(o.expires=new Date,o.expires.setTime(o.expires.getTime()+60*n*1e3)),r&&(o.domain=r),document.cookie=function(e,t,n){var r=n||{};r.path=r.path||"/";var o=encodeURIComponent(t),i="".concat(e,"=").concat(o);if(r.maxAge>0){var a=r.maxAge-0;if(Number.isNaN(a))throw new Error("maxAge should be a Number");i+="; Max-Age=".concat(Math.floor(a))}if(r.domain){if(!j.test(r.domain))throw new TypeError("option domain is invalid");i+="; Domain=".concat(r.domain)}if(r.path){if(!j.test(r.path))throw new TypeError("option path is invalid");i+="; Path=".concat(r.path)}if(r.expires){if("function"!=typeof r.expires.toUTCString)throw new TypeError("option expires is invalid");i+="; Expires=".concat(r.expires.toUTCString())}if(r.httpOnly&&(i+="; HttpOnly"),r.secure&&(i+="; Secure"),r.sameSite)switch("string"==typeof r.sameSite?r.sameSite.toLowerCase():r.sameSite){case!0:i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"strict":i+="; SameSite=Strict";break;case"none":i+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return i}(e,encodeURIComponent(t),o)}(t.lookupCookie,e,t.cookieMinutes,t.cookieDomain,t.cookieOptions)}},T={name:"querystring",lookup:function(e){var t;if("undefined"!=typeof window){var n=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(n=window.location.hash.substring(window.location.hash.indexOf("?")));for(var r=n.substring(1).split("&"),o=0;o<r.length;o++){var i=r[o].indexOf("=");i>0&&r[o].substring(0,i)===e.lookupQuerystring&&(t=r[o].substring(i+1))}}return t}},C=null,E=function(){if(null!==C)return C;try{C="undefined"!==window&&null!==window.localStorage;var e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch(e){C=!1}return C},I={name:"localStorage",lookup:function(e){var t;if(e.lookupLocalStorage&&E()){var n=window.localStorage.getItem(e.lookupLocalStorage);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupLocalStorage&&E()&&window.localStorage.setItem(t.lookupLocalStorage,e)}},N=null,L=function(){if(null!==N)return N;try{N="undefined"!==window&&null!==window.sessionStorage;var e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch(e){N=!1}return N},D={name:"sessionStorage",lookup:function(e){var t;if(e.lookupSessionStorage&&L()){var n=window.sessionStorage.getItem(e.lookupSessionStorage);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupSessionStorage&&L()&&window.sessionStorage.setItem(t.lookupSessionStorage,e)}},M={name:"navigator",lookup:function(e){var t=[];if("undefined"!=typeof navigator){if(navigator.languages)for(var n=0;n<navigator.languages.length;n++)t.push(navigator.languages[n]);navigator.userLanguage&&t.push(navigator.userLanguage),navigator.language&&t.push(navigator.language)}return t.length>0?t:void 0}},F={name:"htmlTag",lookup:function(e){var t,n=e.htmlTag||("undefined"!=typeof document?document.documentElement:null);return n&&"function"==typeof n.getAttribute&&(t=n.getAttribute("lang")),t}},R={name:"path",lookup:function(e){var t,n,r;if("undefined"!=typeof window){var o=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(n=o,null!=(r=Array)&&"undefined"!=typeof Symbol&&r[Symbol.hasInstance]?r[Symbol.hasInstance](n):n instanceof r)if("number"==typeof e.lookupFromPathIndex){if("string"!=typeof o[e.lookupFromPathIndex])return;t=o[e.lookupFromPathIndex].replace("/","")}else t=o[0].replace("/","")}return t}},U={name:"subdomain",lookup:function(e){var t="number"==typeof e.lookupFromSubdomainIndex?e.lookupFromSubdomainIndex+1:1,n="undefined"!=typeof window&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(n)return n[t]}},q=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,S.A)(this,e),this.type="languageDetector",this.detectors={},this.init(t,n)}return(0,x.A)(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=e,this.options=function(e){return k.call(A.call(arguments,1),(function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])})),e}(t,this.options||{},{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"]}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(P),this.addDetector(T),this.addDetector(I),this.addDetector(D),this.addDetector(M),this.addDetector(F),this.addDetector(R),this.addDetector(U)}},{key:"addDetector",value:function(e){this.detectors[e.name]=e}},{key:"detect",value:function(e){var t=this;e||(e=this.options.order);var n=[];return e.forEach((function(e){if(t.detectors[e]){var r=t.detectors[e].lookup(t.options);r&&"string"==typeof r&&(r=[r]),r&&(n=n.concat(r))}})),this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}},{key:"cacheUserLanguage",value:function(e,t){var n=this;t||(t=this.options.caches),t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach((function(t){n.detectors[t]&&n.detectors[t].cacheUserLanguage(e,n.options)})))}}]),e}();q.type="languageDetector";var _=n(4809),W=n(8713),B=n(7966);const z=function(){try{var e=(0,B.A)(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),J=function(e,t,n){"__proto__"==t&&z?z(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n};var G=n(2329);const H=function(e,t,n){(void 0!==n&&!(0,G.A)(e[t],n)||void 0===n&&!(t in e))&&J(e,t,n)},Q=function(e,t,n){for(var r=-1,o=Object(e),i=n(e),a=i.length;a--;){var c=i[++r];if(!1===t(o[c],c,o))break}return e};var $=n(7626),X="object"==typeof exports&&exports&&!exports.nodeType&&exports,Z=X&&"object"==typeof module&&module&&!module.nodeType&&module,K=Z&&Z.exports===X?$.A.Buffer:void 0,V=K?K.allocUnsafe:void 0;var Y=n(515);const ee=function(e,t){var n,r,o=t?(n=e.buffer,r=new n.constructor(n.byteLength),new Y.A(r).set(new Y.A(n)),r):e.buffer;return new e.constructor(o,e.byteOffset,e.length)};var te=n(744),ne=Object.create;const re=function(){function e(){}return function(t){if(!(0,te.A)(t))return{};if(ne)return ne(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();var oe=n(4468),ie=n(8070);var ae=n(1341),ce=n(8834),ue=n(1837),se=n(3951);var le=n(5637),fe=n(3835),pe=n(4156),de=n(4004);const he=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]};var ve=Object.prototype.hasOwnProperty;const me=function(e,t,n){var r=e[t];ve.call(e,t)&&(0,G.A)(r,n)&&(void 0!==n||t in e)||J(e,t,n)};var ge=n(2922);var ye=Object.prototype.hasOwnProperty;const be=function(e){if(!(0,te.A)(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=(0,ie.A)(e),n=[];for(var r in e)("constructor"!=r||!t&&ye.call(e,r))&&n.push(r);return n},we=function(e){return(0,ue.A)(e)?(0,ge.A)(e,!0):be(e)},Se=function(e){return function(e,t,n,r){var o=!n;n||(n={});for(var i=-1,a=t.length;++i<a;){var c=t[i],u=r?r(n[c],e[c],c,n,e):void 0;void 0===u&&(u=e[c]),o?J(n,c,u):me(n,c,u)}return n}(e,we(e))},xe=function(e,t,n,r,o,i,a){var c,u=he(e,n),s=he(t,n),l=a.get(s);if(l)H(e,n,l);else{var f=i?i(u,s,n+"",e,t,a):void 0,p=void 0===f;if(p){var d=(0,ce.A)(s),h=!d&&(0,le.A)(s),v=!d&&!h&&(0,de.A)(s);f=s,d||h||v?(0,ce.A)(u)?f=u:(c=u,(0,se.A)(c)&&(0,ue.A)(c)?f=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}(u):h?(p=!1,f=function(e,t){if(t)return e.slice();var n=e.length,r=V?V(n):new e.constructor(n);return e.copy(r),r}(s,!0)):v?(p=!1,f=ee(s,!0)):f=[]):(0,pe.A)(s)||(0,ae.A)(s)?(f=u,(0,ae.A)(u)?f=Se(u):(0,te.A)(u)&&!(0,fe.A)(u)||(f=function(e){return"function"!=typeof e.constructor||(0,ie.A)(e)?{}:re((0,oe.A)(e))}(s))):p=!1}p&&(a.set(s,f),o(f,s,r,i,a),a.delete(s)),H(e,n,f)}},Oe=function e(t,n,r,o,i){t!==n&&Q(n,(function(a,c){if(i||(i=new W.A),(0,te.A)(a))xe(t,n,c,r,e,o,i);else{var u=o?o(he(t,c),a,c+"",t,n,i):void 0;void 0===u&&(u=a),H(t,c,u)}}),we)},ke=function(e){return e};var Ae=Math.max;const je=z?function(e,t){return z(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:ke;var Pe=Date.now;const Te=(Ce=je,Ee=0,Ie=0,function(){var e=Pe(),t=16-(e-Ie);if(Ie=e,t>0){if(++Ee>=800)return arguments[0]}else Ee=0;return Ce.apply(void 0,arguments)});var Ce,Ee,Ie;const Ne=function(e,t){return Te(function(e,t,n){return t=Ae(void 0===t?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=Ae(r.length-t,0),a=Array(i);++o<i;)a[o]=r[t+o];o=-1;for(var c=Array(t+1);++o<t;)c[o]=r[o];return c[t]=n(a),function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(e,this,c)}}(e,t,ke),e+"")};var Le=n(1044);const De=(Me=function(e,t,n){Oe(e,t,n)},Ne((function(e,t){var n=-1,r=t.length,o=r>1?t[r-1]:void 0,i=r>2?t[2]:void 0;for(o=Me.length>3&&"function"==typeof o?(r--,o):void 0,i&&function(e,t,n){if(!(0,te.A)(n))return!1;var r,o=void 0===t?"undefined":(r=t)&&"undefined"!=typeof Symbol&&r.constructor===Symbol?"symbol":typeof r;return!!("number"==o?(0,ue.A)(n)&&(0,Le.A)(t,n.length):"string"==o&&t in n)&&(0,G.A)(n[t],e)}(t[0],t[1],i)&&(o=r<3?void 0:o,r=1),e=Object(e);++n<r;){var a=t[n];a&&Me(e,a,n)}return e})));var Me;function Fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Re(e,t,n){if("function"!=typeof e.importTranslation)throw Error("Module ".concat(t," does not export an importTranslation function"));var r,o,i=e.importTranslation("./".concat(n,".json"));if(r=i,!(null!=(o=Promise)&&"undefined"!=typeof Symbol&&o[Symbol.hasInstance]?o[Symbol.hasInstance](r):r instanceof o))throw Error("Module ".concat(t," exports an importTranslation function that does not return a promise. Did you forget to set require.context mode to 'lazy'?"));return i}var Ue="@openmrs/esm-app-shell";function qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _e(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function We(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){_e(i,r,o,a,c,"next",e)}function c(e){_e(i,r,o,a,c,"throw",e)}a(void 0)}))}}function Be(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ze(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return qe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Je(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}var Ge=Symbol("openmrs_registration_promises");function He(){return He=We((function(){var e,t,n,r,i,a,c,u,s;return Je(this,(function(l){switch(l.label){case 0:for(e=document.querySelectorAll("script[type='openmrs-routes']"),t=[],n=0;n<e.length;n++)t.push(function(){var e=We((function(e){var t,n,r;return Je(this,(function(i){switch(i.label){case 0:t=void 0,i.label=1;case 1:return i.trys.push([1,5,,6]),e.textContent?(t=JSON.parse(e.textContent),[3,4]):[3,2];case 2:return e.src?[4,(0,o.openmrsFetch)(e.src)]:[3,4];case 3:t=i.sent().data,i.label=4;case 4:return[3,6];case 5:return n=i.sent(),console.error("Caught error while loading routes from ".concat(null!==(r=e.src)&&void 0!==r?r:"JSON script tag content"),n),[2,{}];case 6:return[2,Promise.resolve(null!=t?t:{})]}}))}));return function(t){return e.apply(this,arguments)}}()(e.item(n)));if((0,o.canAccessStorage)())for(r=function(e){var n=i.key(e);if(null==n?void 0:n.startsWith(o.localStorageRoutesPrefix)){var r=i.getItem(n);if(r)try{var a=JSON.parse(r);(0,o.isOpenmrsAppRoutes)(a)?t.push(Promise.resolve(Be({},n.slice(o.localStorageRoutesPrefix.length),a))):"string"==typeof a&&a.startsWith("http")?t.push((0,o.openmrsFetch)(a).then((function(e){return(0,o.isOpenmrsAppRoutes)(e.data)?Promise.resolve(Be({},n.slice(o.localStorageRoutesPrefix.length),e.data)):Promise.reject("".concat(a," did not resolve to a valid OpenmrsAppRoutes JSON object"))})).catch((function(e){throw console.warn("Failed to fetch route overrides for ".concat(n.slice(o.localStorageRoutesPrefix.length)),e),e}))):console.warn("Route override for ".concat(n.slice(o.localStorageRoutesPrefix.length)," could not be handled as it was neither a JSON object nor a URL string"),r)}catch(e){console.error("Error parsing local route override for ".concat(n),e)}}},i=window.localStorage,a=0;a<i.length;a++)r(a);return[4,Promise.allSettled(t)];case 1:return c=l.sent().filter((function(e){return"fulfilled"===e.status})).map((function(e){return e.value})).filter(o.isOpenmrsRoutes).reduce((function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Be(e,t,n[t])}))}return e}({},e,t)}),{}),u=[],s=Object.entries(c).map((f=We((function(e){var t,n,r;return Je(this,(function(o){return t=ze(e,2),n=t[0],r=t[1],u.push([n,r]),v(n,r),[2]}))})),function(e){return f.apply(this,arguments)})),window[Ge]=Promise.all(s),window.installedModules=u,[2]}var f}))})),He.apply(this,arguments)}function Qe(e){return $e.apply(this,arguments)}function $e(){return($e=We((function(e){var t,n,r,i,a,c;return Je(this,(function(u){t=!0,n=!1,r=void 0;try{for(i=e[Symbol.iterator]();!(t=(a=i.next()).done);t=!0)c=a.value,(0,o.provide)(c.value,c.name)}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return[2]}))}))).apply(this,arguments)}function Xe(){var e=navigator.onLine;(0,r.triggerAppChange)(),(0,o.dispatchConnectivityChanged)(e),(0,o.showToast)({critical:!0,description:"Connection: ".concat(e?"online":"offline"),title:"App",kind:e?"success":"warning"})}function Ze(){return window.addEventListener("offline",Xe),window.addEventListener("online",Xe),(window.i18next=w()||b,new MutationObserver((function(){window.i18next.changeLanguage(void 0).catch((function(e){return console.error("i18next failed to re-detect language",e)}))})).observe(document.documentElement,{attributeFilter:["lang"],attributes:!0}),window.i18next.on("languageChanged",(function(){document.documentElement.setAttribute("dir",window.i18next.dir())})),window.i18next.use(q).use({type:"backend",init:function(){},read:function(e,t,n){"translation"===t?n(Error("can't handle translation namespace"),null):void 0===t||void 0===e?n(Error(),null):"@openmrs/esm-app-shell"===t?(0,o.getTranslationOverrides)(t).then((function(t){var r={};e in t&&(r=t[e]),n(null,r)})).catch((function(e){n(e,null)})):(0,o.importDynamic)(t).then((function(n){return Promise.all([Re(n,t,e),(0,o.getTranslationOverrides)(t)])})).then((function(t){var r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Fe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t,2),o=r[0],i=r[1],a=null!=o?o:{};e in i&&(a=De(a,i[e])),n(null,a)})).catch((function(e){n(e,null)}))}}).use(_.initReactI18next).init({detection:{order:["querystring","htmlTag","localStorage","navigator"],lookupQuerystring:"lang"},fallbackLng:"en"})).catch((function(e){return console.error("Failed to initialize translations",e)})).then((function(){return(0,r.start)()}))}function Ke(){return Ve.apply(this,arguments)}function Ve(){return Ve=We((function(){var e,t;return Je(this,(function(n){switch(n.label){case 0:return[4,Promise.all([window[Ge],(0,o.getCurrentImportMap)()])];case 1:return e=ze.apply(void 0,[n.sent(),2]),t=e[1],window.installedModules.map(function(){var e=We((function(e){var n,r;return Je(this,(function(i){return n=ze(e,1),r=n[0],(0,o.importDynamic)(r,void 0,{importMap:t}).catch(),[2]}))}));return function(t){return e.apply(this,arguments)}}()),[2]}}))})),Ve.apply(this,arguments)}function Ye(e){console.error(e),function(e){var t=document.querySelector("#app-error");if(t){var n=t.content.cloneNode(!0),r=n.querySelector('[data-var="message"]');if(r&&(r.textContent=(null==e?void 0:e.message)||"No additional information available."),localStorage.getItem("openmrs:devtools")&&Object.keys(localStorage).some((function(e){return e.startsWith("import-map-override:")}))){var o=null==n?void 0:n.querySelector("#buttons");if(o){var i=document.createElement("button");i.className="cds--btn",i.innerHTML="Clear dev overrides",i.onclick=et,o.appendChild(i)}}document.body.appendChild(n)}}(e)}function et(){var e=!0,t=!1,n=void 0;try{for(var r,o=Object.keys(localStorage)[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var i=r.value;i.startsWith("import-map-override:")&&!["import-map-override:react","import-map-override:react-dom"].includes(i)&&localStorage.removeItem(i)}}catch(e){t=!0,n=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}location.reload()}function tt(){return nt.apply(this,arguments)}function nt(){return(nt=We((function(){var e;return Je(this,(function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),[4,(0,o.registerOmrsServiceWorker)("".concat(window.getOpenmrsSpaBase(),"service-worker.js"))];case 1:return t.sent(),[4,(0,o.activateOfflineCapability)()];case 2:return t.sent(),3e5,n=null,r=function(e,t){var r=!n||(new Date).getTime()-n.getTime()>3e5;t&&e&&r&&(n=new Date,(0,o.dispatchPrecacheStaticDependencies)())},i=!1,a=!1,(0,o.getCurrentUser)({includeAuthStatus:!1}).subscribe((function(e){r(i,a=!!e)})),(0,o.subscribeConnectivity)((function(e){var t=e.online;i=t,r(t,a)})),[3,4];case 3:return e=t.sent(),console.error("Error while setting up offline mode.",e),(0,o.showNotification)({kind:"error",title:"Offline Setup Error",description:e.message}),[3,4];case 4:return[2]}var n,r,i,a}))}))).apply(this,arguments)}function rt(){return ot.apply(this,arguments)}function ot(){return(ot=We((function(){var e;return Je(this,(function(t){switch(t.label){case 0:return[4,it()];case 1:return t.sent(),e=new URL("".concat(window.openmrsBase,"/ws/rest/v1/session"),window.location.origin).href,[4,(0,o.messageOmrsServiceWorker)({type:"registerDynamicRoute",url:e,strategy:"network-first"})];case 2:return t.sent(),[4,(0,o.openmrsFetch)("/ws/rest/v1/session").catch((function(e){return console.warn("Failed to precache the user session data from the app shell. MFs depending on this data may run into problems while offline.",e)}))];case 3:return t.sent(),[2]}}))}))).apply(this,arguments)}function it(){return at.apply(this,arguments)}function at(){return(at=We((function(){var e;return Je(this,(function(t){switch(t.label){case 0:return[4,window.importMapOverrides.getCurrentPageMap()];case 1:return e=t.sent(),[4,(0,o.messageOmrsServiceWorker)({type:"onImportMapChanged",importMap:e})];case 2:return t.sent(),[2]}}))}))).apply(this,arguments)}function ct(){(0,o.subscribeConnectivity)((function(e){var t=e.online,n=document.querySelector("body");t?n.classList.remove("omrs-offline"):n.classList.add("omrs-offline")}))}function ut(e,t){var r=(0,o.renderLoadingSpinner)(document.body),a=function(e){var t=Promise.all(e.map((function(e){var t=(0,o.interpolateUrl)(e);return fetch(t).then((function(e){return e.json()})).then((function(t){return{name:e,value:t}})).catch((function(t){return console.error('Loading the config from "'.concat(e,'" failed.'),t),{name:e,value:{}}}))})));return function(){return t.then(Qe)}}(e);return(0,o.integrateBreakpoints)(),(0,o.renderToasts)(document.querySelector(".omrs-toasts-container")),(0,o.renderModals)(document.querySelector(".omrs-modals-container")),(0,o.renderInlineNotifications)(document.querySelector(".omrs-inline-notifications-container")),(0,o.renderActionableNotifications)(document.querySelector(".omrs-actionable-notifications-container")),(0,o.renderSnackbars)(document.querySelector(".omrs-snackbars-container")),(0,o.subscribeNotificationShown)(o.showNotification),(0,o.subscribeActionableNotificationShown)(o.showActionableNotification),(0,o.subscribeToastShown)(o.showToast),(0,o.subscribeSnackbarShown)(o.showSnackbar),(0,o.subscribePrecacheStaticDependencies)(rt),(0,o.setupApiModule)(),(0,o.setupHistory)(),function(){var e,t=(e={featureName:"app-shell",moduleName:Ue},[{name:"breadcrumbs-widget",slot:"breadcrumbs-slot",load:(0,i.getAsyncLifecycle)((function(){return n.e(79).then(n.bind(n,1079))}),e),online:!0,offline:!0}]),r=!0,o=!1,a=void 0;try{for(var c,u=t[Symbol.iterator]();!(r=(c=u.next()).done);r=!0){var s=c.value;y(Ue,s)}}catch(e){o=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}}(),function(){return He.apply(this,arguments)}().then(m).then(ct).then(a).then(Ze).catch(Ye).then(r).then(t?tt:void 0).then(Ke)}}}]);