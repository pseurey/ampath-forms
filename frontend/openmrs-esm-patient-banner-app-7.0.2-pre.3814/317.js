(globalThis.webpackChunk_openmrs_esm_patient_banner_app=globalThis.webpackChunk_openmrs_esm_patient_banner_app||[]).push([[317],{5033:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var a=n(272),r=n.n(a),i=n(2609),o=n.n(i)()(r());o.push([e.id,".-esm-patient-banner__deceased-patient-tag__tooltipPadding___frhOS{padding:.25rem}.-esm-patient-banner__deceased-patient-tag__tooltipSmallText___joEY6{font-size:80%}.-esm-patient-banner__deceased-patient-tag__tagOverride___B9Vjq{background-color:#6b1a18;color:#e0e0e0}","",{version:3,sources:["webpack://./src/banner-tags/deceased-patient-tag.scss","webpack://./../../node_modules/@carbon/colors/index.scss"],names:[],mappings:"AAEA,mEACE,cAAA,CAGF,qEACE,aAAA,CAGF,gEACE,wBAAA,CACA,aC+BQ",sourceRoot:""}]),o.locals={tooltipPadding:"-esm-patient-banner__deceased-patient-tag__tooltipPadding___frhOS",tooltipSmallText:"-esm-patient-banner__deceased-patient-tag__tooltipSmallText___joEY6",tagOverride:"-esm-patient-banner__deceased-patient-tag__tagOverride___B9Vjq"};const s=o},6626:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var a=n(272),r=n.n(a),i=n(2609),o=n.n(i)()(r());o.push([e.id,".-esm-patient-banner__visit-tag__tooltipBox___nDNJr{padding:.25rem}.-esm-patient-banner__visit-tag__tooltipSmallText___j8IkG{font-size:80%}.-esm-patient-banner__visit-tag__heading___qb9Oa{margin-bottom:.5rem}.-esm-patient-banner__visit-tag__definitionToolTip___ojXaY>button{border-bottom:none}","",{version:3,sources:["webpack://./src/banner-tags/visit-tag.scss"],names:[],mappings:"AAAA,oDACE,cAAA,CAGF,0DACE,aAAA,CAGF,iDACE,mBAAA,CAIA,kEACE,kBAAA",sourceRoot:""}]),o.locals={tooltipBox:"-esm-patient-banner__visit-tag__tooltipBox___nDNJr",tooltipSmallText:"-esm-patient-banner__visit-tag__tooltipSmallText___j8IkG",heading:"-esm-patient-banner__visit-tag__heading___qb9Oa",definitionToolTip:"-esm-patient-banner__visit-tag__definitionToolTip___ojXaY"};const s=o},9926:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var a=n(272),r=n.n(a),i=n(2609),o=n.n(i)()(r());o.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-patient-banner__patient-banner__container___ecRPF{border-top:.063rem solid #e0e0e0;border-bottom:.063rem solid #e0e0e0;background-color:#f4f4f4}.-esm-patient-banner__patient-banner__activePatientContainer___tskjN{background-color:#f4f4f4}.-esm-patient-banner__patient-banner__deceasedPatientContainer___C7l_Q{background-color:#393939}.-esm-patient-banner__patient-banner__deceasedPatientContainer___C7l_Q .-esm-patient-banner__patient-banner__patientName___OL0dB{color:#f4f4f4}.-esm-patient-banner__patient-banner__deceasedPatientContainer___C7l_Q .-esm-patient-banner__patient-banner__demographics___V1alp,.-esm-patient-banner__patient-banner__deceasedPatientContainer___C7l_Q .-esm-patient-banner__patient-banner__row___t0GLQ,.-esm-patient-banner__patient-banner__deceasedPatientContainer___C7l_Q .-esm-patient-banner__patient-banner__identifierTag___DGuqK,.-esm-patient-banner__patient-banner__deceasedPatientContainer___C7l_Q .-esm-patient-banner__patient-banner__identifier___gGse_,.-esm-patient-banner__patient-banner__deceasedPatientContainer___C7l_Q .-esm-patient-banner__patient-banner__contactDetails___uX5w3 .-esm-patient-banner__patient-banner__heading___Wphgj{color:#fff}.-esm-patient-banner__patient-banner__deceasedPatientContainer___C7l_Q .-esm-patient-banner__patient-banner__toggleContactDetailsButton___HZ72I,.-esm-patient-banner__patient-banner__deceasedPatientContainer___C7l_Q .-esm-patient-banner__patient-banner__toggleContactDetailsButton___HZ72I>svg,.-esm-patient-banner__patient-banner__deceasedPatientContainer___C7l_Q .-esm-patient-banner__patient-banner__actionsButtonText___r3Ahr{color:#78a9ff}.-esm-patient-banner__patient-banner__deceasedPatientContainer___C7l_Q:focus,.-esm-patient-banner__patient-banner__deceasedPatientContainer___C7l_Q:hover{background-color:#262626}.-esm-patient-banner__patient-banner__overflowMenuContainer___FYrIB{margin:-0.75rem 0}.-esm-patient-banner__patient-banner__patientBanner___jpW_m{display:flex}.-esm-patient-banner__patient-banner__patientName___OL0dB{font-size:var(--cds-heading-03-font-size, 1.25rem);font-weight:var(--cds-heading-03-font-weight, 400);line-height:var(--cds-heading-03-line-height, 1.4);letter-spacing:var(--cds-heading-03-letter-spacing, 0);margin-right:.25rem}.-esm-patient-banner__patient-banner__patientAvatar___CxTCp{width:5rem;height:5rem;margin:1rem;border-radius:1px}.-esm-patient-banner__patient-banner__patientAvatarButton___JLA2C{cursor:pointer;border:none;padding:0px;background:none}.-esm-patient-banner__patient-banner__patientInfo___rn9Ty{width:100%}.-esm-patient-banner__patient-banner__demographics___V1alp{font-size:var(--cds-body-compact-02-font-size, 1rem);font-weight:var(--cds-body-compact-02-font-weight, 400);line-height:var(--cds-body-compact-02-line-height, 1.375);letter-spacing:var(--cds-body-compact-02-letter-spacing, 0);color:#525252;margin-top:.375rem}.-esm-patient-banner__patient-banner__row___t0GLQ{display:flex;flex-direction:row;justify-content:space-between;align-items:baseline}.-esm-patient-banner__patient-banner__patientNameRow___SJSwx{margin-top:.875rem}.-esm-patient-banner__patient-banner__flexRow___YJJkj{display:flex;flex-flow:row wrap;align-items:center}.-esm-patient-banner__patient-banner__identifiers___jRMNR{font-size:var(--cds-body-compact-02-font-size, 1rem);font-weight:var(--cds-body-compact-02-font-weight, 400);line-height:var(--cds-body-compact-02-line-height, 1.375);letter-spacing:var(--cds-body-compact-02-letter-spacing, 0);color:#8d8d8d;display:flex;flex-wrap:wrap}.-esm-patient-banner__patient-banner__identifierTag___DGuqK{display:flex;align-items:center;margin-right:.75rem}.-esm-patient-banner__patient-banner__tag___xmTcg{margin:.25rem .25rem .25rem 0rem}.-esm-patient-banner__patient-banner__tooltipPadding___Cv7bZ{padding:.25rem}.-esm-patient-banner__patient-banner__tooltipSmallText___G1Y0F{font-size:80%}.-esm-patient-banner__patient-banner__actionsButtonText___r3Ahr{font-size:var(--cds-body-compact-01-font-size, 0.875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, 0.16px);color:#0f62fe}html[dir=rtl] .-esm-patient-banner__patient-banner__overflowMenuContainer___FYrIB>div{margin-left:unset;margin-right:-1.5rem}html[dir=rtl] .-esm-patient-banner__patient-banner__overflowMenuContainer___FYrIB>div>div{left:unset;right:-6.025rem}html[dir=rtl] .-esm-patient-banner__patient-banner__demographics___V1alp{display:flex;gap:.25rem}html[dir=rtl] .-esm-patient-banner__patient-banner__tag___xmTcg{margin:.25rem 0rem .25rem .25rem}html[dir=rtl] .-esm-patient-banner__patient-banner__patientName___OL0dB{margin-right:unset;margin-left:.25rem}","",{version:3,sources:["webpack://./../../node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/banner/patient-banner.scss","webpack://./../../node_modules/@carbon/colors/index.scss","webpack://./../../node_modules/@carbon/type/scss/_styles.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCnDF,wDACE,gCAAA,CACA,mCAAA,CACA,wBDPM,CCUR,qEACE,wBDXM,CCcR,uEACE,wBCkCQ,CDhCR,iIACE,aDlBI,CCqBN,wrBACE,UDrBI,CCwBN,2aACE,aCXM,CDcR,0JACE,wBCoBM,CDhBV,oEACE,iBAAA,CAGF,4DACE,YAAA,CAGF,0DEwzBI,kDAAA,CAAA,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CFtzBF,mBAAA,CAGF,4DACE,UAAA,CACA,WAAA,CACA,WAAA,CACA,iBAAA,CAGF,kEACE,cAAA,CACA,WAAA,CACA,WAAA,CACA,eAAA,CAGF,0DACE,UAAA,CAGF,2DEiyBI,oDAAA,CAAA,uDAAA,CAAA,yDAAA,CAAA,2DAAA,CF/xBF,aD9DQ,CC+DR,kBAAA,CAGF,kDACE,YAAA,CACA,kBAAA,CACA,6BAAA,CACA,oBAAA,CAGF,6DACE,kBAAA,CAGF,sDACE,YAAA,CACA,kBAAA,CACA,kBAAA,CAGF,0DE0wBI,oDAAA,CAAA,uDAAA,CAAA,yDAAA,CAAA,2DAAA,CFxwBF,aDvFM,CCwFN,YAAA,CACA,cAAA,CAGF,4DACE,YAAA,CACA,kBAAA,CACA,mBAAA,CAIF,kDACE,gCAAA,CAGF,6DACE,cAAA,CAGF,+DACE,aAAA,CAGF,gEEgvBI,wDAAA,CAAA,uDAAA,CAAA,2DAAA,CAAA,gEAAA,CF9uBF,aD/Fe,CCqGb,sFACE,iBAAA,CACA,oBAAA,CACA,0FACE,UAAA,CACA,eAAA,CAKN,yEACE,YAAA,CACA,UAAA,CAGF,gEACE,gCAAA,CAGF,wEACE,kBAAA,CACA,kBAAA",sourceRoot:""}]),o.locals={container:"-esm-patient-banner__patient-banner__container___ecRPF",activePatientContainer:"-esm-patient-banner__patient-banner__activePatientContainer___tskjN",deceasedPatientContainer:"-esm-patient-banner__patient-banner__deceasedPatientContainer___C7l_Q",patientName:"-esm-patient-banner__patient-banner__patientName___OL0dB",demographics:"-esm-patient-banner__patient-banner__demographics___V1alp",row:"-esm-patient-banner__patient-banner__row___t0GLQ",identifierTag:"-esm-patient-banner__patient-banner__identifierTag___DGuqK",identifier:"-esm-patient-banner__patient-banner__identifier___gGse_",contactDetails:"-esm-patient-banner__patient-banner__contactDetails___uX5w3",heading:"-esm-patient-banner__patient-banner__heading___Wphgj",toggleContactDetailsButton:"-esm-patient-banner__patient-banner__toggleContactDetailsButton___HZ72I",actionsButtonText:"-esm-patient-banner__patient-banner__actionsButtonText___r3Ahr",overflowMenuContainer:"-esm-patient-banner__patient-banner__overflowMenuContainer___FYrIB",patientBanner:"-esm-patient-banner__patient-banner__patientBanner___jpW_m",patientAvatar:"-esm-patient-banner__patient-banner__patientAvatar___CxTCp",patientAvatarButton:"-esm-patient-banner__patient-banner__patientAvatarButton___JLA2C",patientInfo:"-esm-patient-banner__patient-banner__patientInfo___rn9Ty",patientNameRow:"-esm-patient-banner__patient-banner__patientNameRow___SJSwx",flexRow:"-esm-patient-banner__patient-banner__flexRow___YJJkj",identifiers:"-esm-patient-banner__patient-banner__identifiers___jRMNR",tag:"-esm-patient-banner__patient-banner__tag___xmTcg",tooltipPadding:"-esm-patient-banner__patient-banner__tooltipPadding___Cv7bZ",tooltipSmallText:"-esm-patient-banner__patient-banner__tooltipSmallText___G1Y0F"};const s=o},7018:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var a=n(272),r=n.n(a),i=n(2609),o=n.n(i)()(r());o.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-patient-banner__contact-details__contactDetailsContainer___GtWXt{color:#525252;width:100%;border-top:1px solid #e0e0e0;display:flex}.-esm-patient-banner__contact-details__contactDetailsContainer___GtWXt a{font-size:var(--cds-body-compact-01-font-size, 0.875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, 0.16px);text-decoration:none}.-esm-patient-banner__contact-details__heading___Wn1cM{font-size:var(--cds-heading-compact-01-font-size, 0.875rem);font-weight:var(--cds-heading-compact-01-font-weight, 600);line-height:var(--cds-heading-compact-01-line-height, 1.28572);letter-spacing:var(--cds-heading-compact-01-letter-spacing, 0.16px);color:#525252}.-esm-patient-banner__contact-details__deceased___SxeyH .-esm-patient-banner__contact-details__contactDetails___WcOBT,.-esm-patient-banner__contact-details__deceased___SxeyH .-esm-patient-banner__contact-details__heading___Wn1cM,.-esm-patient-banner__contact-details__deceased___SxeyH .-esm-patient-banner__contact-details__row___TsP8B,.-esm-patient-banner__contact-details__deceased___SxeyH .-esm-patient-banner__contact-details__row___TsP8B>.-esm-patient-banner__contact-details__col___K6cAe{color:#fff}.-esm-patient-banner__contact-details__deceased___SxeyH a{color:#78a9ff}.-esm-patient-banner__contact-details__row___TsP8B{font-size:var(--cds-body-compact-01-font-size, 0.875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, 0.16px);display:flex;flex:1}.-esm-patient-banner__contact-details__row___TsP8B>.-esm-patient-banner__contact-details__col___K6cAe{flex:1;padding:1rem 1rem}.-esm-patient-banner__contact-details__row___TsP8B li{margin:.5rem 0}.-esm-patient-banner__contact-details__relationship___jewSg{display:flex;flex-flow:row nowrap}.-esm-patient-banner__contact-details__relationship___jewSg div{flex:1 1}.-esm-patient-banner__contact-details__tabletSizeBanner___QQqvw{color:#525252;width:100%;border-top:1px solid #e0e0e0;display:flex;display:block}.-esm-patient-banner__contact-details__tabletSizeBanner___QQqvw a{font-size:var(--cds-body-compact-01-font-size, 0.875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, 0.16px);text-decoration:none}.-esm-patient-banner__contact-details__tabletSizeBanner___QQqvw .-esm-patient-banner__contact-details__row___TsP8B:first-child{border-bottom:1px solid #e0e0e0}.-esm-patient-banner__contact-details__tabletSizeBanner___QQqvw .-esm-patient-banner__contact-details__row___TsP8B>.-esm-patient-banner__contact-details__col___K6cAe:nth-of-type(2n + 1){border-right:1px solid #e0e0e0}","",{version:3,sources:["webpack://./../../node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/contact-details/contact-details.scss","webpack://./../../node_modules/@carbon/type/scss/_styles.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCvCF,uEAXE,aAAA,CACA,UAAA,CACA,4BAAA,CACA,YAAA,CAEA,yECw1BE,wDAAA,CAAA,uDAAA,CAAA,2DAAA,CAAA,gEAAA,CDt1BA,oBAAA,CAQJ,uDC80BI,2DAAA,CAAA,0DAAA,CAAA,8DAAA,CAAA,mEAAA,CD50BF,aDjBQ,CCqBR,8eACE,UD1BI,CC6BN,0DACE,aDhBW,CCoBf,mDC+zBI,wDAAA,CAAA,uDAAA,CAAA,2DAAA,CAAA,gEAAA,CD7zBF,YAAA,CACA,MAAA,CAGF,sGACE,MAAA,CACA,iBAAA,CAGF,sDACE,cAAA,CAGF,4DACE,YAAA,CACA,oBAAA,CAEA,gEACE,QAAA,CAIJ,gEAtDE,aAAA,CACA,UAAA,CACA,4BAAA,CACA,YAAA,CAqDA,aAAA,CAnDA,kECw1BE,wDAAA,CAAA,uDAAA,CAAA,2DAAA,CAAA,gEAAA,CDt1BA,oBAAA,CAoDA,+HACA,+BAAA,CAKA,0LACE,8BAAA",sourceRoot:""}]),o.locals={contactDetailsContainer:"-esm-patient-banner__contact-details__contactDetailsContainer___GtWXt",heading:"-esm-patient-banner__contact-details__heading___Wn1cM",deceased:"-esm-patient-banner__contact-details__deceased___SxeyH",contactDetails:"-esm-patient-banner__contact-details__contactDetails___WcOBT",row:"-esm-patient-banner__contact-details__row___TsP8B",col:"-esm-patient-banner__contact-details__col___K6cAe",relationship:"-esm-patient-banner__contact-details__relationship___jewSg",tabletSizeBanner:"-esm-patient-banner__contact-details__tabletSizeBanner___QQqvw"};const s=o},9111:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var a=n(272),r=n.n(a),i=n(2609),o=n.n(i)()(r());o.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-patient-banner__overflow-menu__container___dRXW5{margin-top:-1.25rem;margin-left:-1.5rem;width:auto;height:auto}.-esm-patient-banner__overflow-menu__menu___SHQYw{display:none;top:3.125rem;min-width:initial;left:auto;right:0;background-color:#f4f4f4;margin-right:.2rem;box-shadow:0 6px 6px rgba(0,0,0,.3)}.-esm-patient-banner__overflow-menu__show___hAAhj{display:block}.-esm-patient-banner__overflow-menu__overflowMenuButton___meRmh{width:auto;height:auto;padding:.875rem 1rem;color:#0f62fe}.-esm-patient-banner__overflow-menu__overflowMenuButton___meRmh:hover{background-color:#e8e8e8}.-esm-patient-banner__overflow-menu__deceased___MBoXd{color:#78a9ff}","",{version:3,sources:["webpack://./../../node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/ui-components/overflow-menu.scss","webpack://./../../node_modules/@carbon/colors/index.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCpDF,uDACE,mBAAA,CACA,mBAAA,CACA,UAAA,CACA,WAAA,CAGF,kDACE,YAAA,CACA,YAAA,CACA,iBAAA,CACA,SAAA,CACA,OAAA,CACA,wBDhBM,CCiBN,kBAAA,CACA,mCAAA,CAGF,kDACE,aAAA,CAGF,gEACE,UAAA,CACA,WAAA,CACA,oBAAA,CACA,aCZQ,CDcR,sEACE,wBCsIY,CDlIhB,sDACE,aCtBQ",sourceRoot:""}]),o.locals={container:"-esm-patient-banner__overflow-menu__container___dRXW5",menu:"-esm-patient-banner__overflow-menu__menu___SHQYw",show:"-esm-patient-banner__overflow-menu__show___hAAhj",overflowMenuButton:"-esm-patient-banner__overflow-menu__overflowMenuButton___meRmh",deceased:"-esm-patient-banner__overflow-menu__deceased___MBoXd"};const s=o},4317:(e,t,n)=>{"use strict";n.r(t),n.d(t,{deceasedPatientTag:()=>me,importTranslation:()=>ce,patientBanner:()=>ue,startupApp:()=>de,visitTag:()=>Ae});var a=n(2870),r={contactAttributeTypes:{_type:a.Type.Array,_description:"The UUIDs of person attribute types that capture contact information",_default:[],_elements:{_type:a.Type.UUID}},excludePatientIdentifierCodeTypes:{uuids:{_type:a.Type.Array,_description:"The UUIDs of patient identifier types that should be excluded from patient banner.",_default:[],_elements:{_type:a.Type.UUID}}},useRelationshipNameLink:{_type:a.Type.Boolean,_description:"Whether to use the relationship name as a link to the person's patient chart",_default:!1}},i=n(268),o=n.n(i),s=n(4924),l=n(6410),_=n(2821),c=n(321),d=n.n(c),A=n(1195),m=n.n(A),u=n(3275),p=n.n(u),b=n(7162),f=n.n(b),C=n(2094),g=n.n(C),v=n(757),h=n.n(v),y=n(6626),w={};w.styleTagTransform=h(),w.setAttributes=f(),w.insert=p().bind(null,"head"),w.domAPI=m(),w.insertStyleElement=g(),d()(y.Z,w);const E=y.Z&&y.Z.locals?y.Z.locals:void 0;var B=function(e){var t,n=e.activeVisit,r=(0,s.useTranslation)().t;return o().createElement(l.PTL,{align:"bottom"},o().createElement(l.WBZ,{label:r("activeVisit","Active Visit")},o().createElement(l.Vp9,{type:"blue"},r("activeVisit","Active Visit"))),o().createElement(l.Uwv,null,o().createElement("div",{role:"tooltip"},o().createElement("h6",{className:E.heading},null==n||null===(t=n.visitType)||void 0===t?void 0:t.display),o().createElement("span",null,o().createElement("span",{className:E.tooltipSmallText},r("started","Started"),": "),o().createElement("span",null,(0,a.formatDatetime)((0,a.parseDate)(null==n?void 0:n.startDatetime),{mode:"wide"}))))))};var D=n(5033),T={};T.styleTagTransform=h(),T.setAttributes=f(),T.insert=p().bind(null,"head"),T.domAPI=m(),T.insertStyleElement=g(),d()(D.Z,T);const x=D.Z&&D.Z.locals?D.Z.locals:void 0;var k=n(2779),S=n.n(k),N=n(1174),F=n(240),I=n(3255);var P=function(e){var t=e.match(/-\s*(.*)$/);return t&&t.length>1?t[1].trim():e.trim()},j=n(9198),M=n.n(j),G=n(7018),O={};O.styleTagTransform=h(),O.setAttributes=f(),O.insert=p().bind(null,"head"),O.domAPI=m(),O.insertStyleElement=g(),d()(G.Z,O);const L=G.Z&&G.Z.locals?G.Z.locals:void 0;function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return i}}(e,t)||Q(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e){return function(e){if(Array.isArray(e))return R(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Q(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){if(e){if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R(e,t):void 0}}var Z=function(e){var t,n=e.patientUuid,r=(0,s.useTranslation)().t,_=function(e){var t,n=e?"ws/rest/v1/cohortm/cohortmember?patient=".concat(e,"&v=").concat("custom:(uuid,patient:ref,cohort:(uuid,name,startDate,endDate))"):null,r=(0,I.ZP)(n,a.openmrsFetch),o=r.data,s=r.isLoading,l=null==o||null===(t=o.data)||void 0===t?void 0:t.results.map((function(e){return{uuid:e.cohort.uuid,name:e.cohort.name,startDate:e.cohort.startDate,endDate:e.cohort.endDate}}));return(0,i.useMemo)((function(){return{cohorts:l,isLoading:s}}),[s,l])}(n),c=_.cohorts,d=void 0===c?[]:c,A=_.isLoading;return o().createElement(o().Fragment,null,o().createElement("p",{className:L.heading},r("patientLists","Patient Lists")," (",null!==(t=null==d?void 0:d.length)&&void 0!==t?t:0,")"),A?o().createElement(l.lSo,{description:"".concat(r("loading","Loading")," ..."),role:"progressbar"}):o().createElement("ul",null,function(){if((null==d?void 0:d.length)>0){var e=d.sort((function(e,t){return(0,a.parseDate)(e.startDate).getTime()-(0,a.parseDate)(t.startDate).getTime()})).slice(0,3);return null==e?void 0:e.map((function(e){return o().createElement("li",{key:e.uuid},o().createElement(a.ConfigurableLink,{to:"".concat(window.spaBase,"/home/patient-lists/").concat(e.uuid),key:e.uuid},e.name))}))}return o().createElement("li",null,"--")}(),o().createElement("li",{style:{marginTop:"1rem"}},o().createElement(a.ConfigurableLink,{to:"".concat(window.spaBase,"/home/patient-lists")},d.length>3?r("seeMoreLists","See {{count}} more lists",{count:(null==d?void 0:d.length)-3}):""))))},Y=function(e){var t=e.address,n=(0,s.useTranslation)().t,a=function(e){return e.split("#")[1]};return o().createElement(o().Fragment,null,o().createElement("p",{className:L.heading},n("address","Address")),o().createElement("ul",null,t?o().createElement(o().Fragment,null,Object.entries(t).filter((function(e){var t=U(e,1)[0];return!["use","id"].includes(t)})).map((function(e){var r,i=U(e,2),s=i[0],l=i[1];return"extension"===s?null==t||null===(r=t.extension[0])||void 0===r?void 0:r.extension.map((function(e,t){return o().createElement("li",{key:"address-".concat(s,"-").concat(t)},n(a(e.url),a(e.url)),": ",e.valueString)})):o().createElement("li",{key:"address-".concat(s)},n(s,s),": ",l)}))):"--"))},W=function(e){var t=e.telecom,n=e.patientUuid,r=(0,s.useTranslation)().t,_=function(e){var t=(0,a.useConfig)().contactAttributeTypes,n=function(e){var t,n,r,i,o,s=M()(e?"/ws/rest/v1/patient/".concat(e,"?v=").concat("custom:(uuid,display,identifiers:(identifier,uuid,preferred,location:(uuid,name),identifierType:(uuid,name,format,formatDescription,validator)),person:(uuid,display,gender,birthdate,dead,age,deathDate,birthdateEstimated,causeOfDeath,preferredName:(uuid,preferred,givenName,middleName,familyName),attributes,preferredAddress:(uuid,preferred,address1,address2,cityVillage,longitude,stateProvince,latitude,country,postalCode,countyDistrict,address3,address4,address5,address6,address7)))"):null,a.openmrsFetch),l=s.data,_=s.error;return{isLoading:s.isLoading,attributes:null!==(i=null==l||null===(n=l.data)||void 0===n||null===(t=n.person)||void 0===t?void 0:t.attributes)&&void 0!==i?i:[],person:null!==(o=null==l||null===(r=l.data)||void 0===r?void 0:r.person)&&void 0!==o?o:null,error:_}}(t.length?e:null),r=n.attributes,i=n.isLoading,o=null==r?void 0:r.filter((function(e){var n=e.attributeType;return t.includes(null==n?void 0:n.uuid)}));return{contactAttributes:null!=o?o:[],isLoading:i}}(n),c=_.isLoading,d=_.contactAttributes,A=(0,i.useMemo)((function(){return z(null==t?void 0:t.map((function(e){return[r(e.system,e.system),e.value,e.id]}))).concat(z(null==d?void 0:d.map((function(e){return[r(e.attributeType.display,e.attributeType.display),e.value]}))))}),[t,d]);return o().createElement(o().Fragment,null,o().createElement("p",{className:L.heading},r("contactDetails","Contact Details")),c?o().createElement(l.lSo,{description:"".concat(r("loading","Loading")," ..."),role:"progressbar"}):o().createElement("ul",null,A.length?A.map((function(e){var t=U(e,3),n=t[0],a=t[1],r=t[2];return o().createElement("li",{key:r},n?"".concat(n,": "):"",a)})):o().createElement("li",null,"--")))},V=function(e){var t=e.patientId,n=(0,s.useTranslation)().t,r=function(e){var t,n=e?"/ws/rest/v1/relationship?person=".concat(e,"&v=").concat("custom:(display,uuid,personA:(uuid,age,display),personB:(uuid,age,display),relationshipType:(uuid,display,description,aIsToB,bIsToA))"):null,r=(0,I.ZP)(n,a.openmrsFetch),o=r.data,s=r.error,l=r.isLoading,_=r.isValidating,c=(0,i.useMemo)((function(){var t,n;return(null==o||null===(n=o.data)||void 0===n||null===(t=n.results)||void 0===t?void 0:t.length)?function(e,t){var n=[],a=!0,r=!1,i=void 0;try{for(var o,s=t[Symbol.iterator]();!(a=(o=s.next()).done);a=!0){var l=o.value;e===l.personA.uuid?n.push({uuid:l.uuid,name:P(l.personB.display),display:l.personB.display,relativeAge:l.personB.age,relativeUuid:l.personB.uuid,relationshipType:l.relationshipType.bIsToA}):n.push({uuid:l.uuid,name:P(l.personA.display),display:l.personA.display,relativeAge:l.personA.age,relativeUuid:l.personA.uuid,relationshipType:l.relationshipType.aIsToB})}}catch(e){r=!0,i=e}finally{try{a||null==s.return||s.return()}finally{if(r)throw i}}return n}(e,o.data.results):null}),[null==o||null===(t=o.data)||void 0===t?void 0:t.results,e]);return{data:c,isError:s,isLoading:l,isValidating:_}}(t),_=r.data,c=r.isLoading,d=(0,a.useConfig)();return o().createElement(o().Fragment,null,o().createElement("p",{className:L.heading},n("relationships","Relationships")),c?o().createElement(l.lSo,{description:"".concat(n("loading","Loading")," ..."),role:"progressbar"}):o().createElement("ul",null,(null==_?void 0:_.length)>0?o().createElement(o().Fragment,null,_.map((function(e){return o().createElement("li",{key:e.uuid,className:L.relationship},d.useRelationshipNameLink?o().createElement(a.ConfigurableLink,{style:{textDecoration:"none",maxWidth:"50%"},to:"".concat(window.getOpenmrsSpaBase(),"patient/").concat(e.relativeUuid,"/chart")},e.display):o().createElement("div",null,e.name),o().createElement("div",null,e.relationshipType),o().createElement("div",null,"".concat(e.relativeAge?e.relativeAge:"--"," ").concat(e.relativeAge?1===e.relativeAge?"yr":"yrs":"")))}))):o().createElement("li",null,"--")))};const q=function(e){var t=e.address,n=e.telecom,a=e.patientId,r=e.deceased,i=e.isTabletViewport,s=null==t?void 0:t.find((function(e){return"home"===e.use})),l="".concat(L[r&&"deceased"]," ").concat(L[i?"tabletSizeBanner":"contactDetailsContainer"]);return o().createElement("div",{className:l},o().createElement("div",{className:L.row},o().createElement("div",{className:L.col},o().createElement(Y,{address:s})),o().createElement("div",{className:L.col},o().createElement(W,{telecom:n,patientUuid:a}))),o().createElement("div",{className:L.row},o().createElement("div",{className:L.col},o().createElement(V,{patientId:a})),o().createElement("div",{className:L.col},o().createElement(Z,{patientUuid:a}))))};var X=n(9111),H={};H.styleTagTransform=h(),H.setAttributes=f(),H.insert=p().bind(null,"head"),H.domAPI=m(),H.insertStyleElement=g(),d()(X.Z,H);const J=X.Z&&X.Z.locals?X.Z.locals:void 0;function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function $(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ee=function(e){var t,n,r=e.dropDownMenu,s=e.menuTitle,l=e.children,_=e.deceased,c=(t=(0,i.useState)(!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?K(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),d=c[0],A=c[1],m="tablet"===(0,a.useLayoutType)(),u=(0,i.useRef)(null);(0,i.useEffect)((function(){r||A((function(e){return e})),A((function(){return!1}))}),[r]);var p=(0,i.useCallback)((function(){return A((function(e){return!e}))}),[]);return(0,i.useEffect)((function(){var e=function(e){u.current&&!u.current.contains(e.target)&&A(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[u]),o().createElement("div",{"data-overflow-menu":!0,className:S()("cds--overflow-menu",J.container),ref:u},o().createElement("button",{className:S()("cds--btn","cds--btn--ghost","cds--overflow-menu__trigger",{"cds--overflow-menu--open":d},$({},J.deceased,_),J.overflowMenuButton),"aria-haspopup":"true","aria-expanded":d,id:"custom-actions-overflow-menu-trigger","aria-controls":"custom-actions-overflow-menu",onClick:p},s),o().createElement("div",{className:S()("cds--overflow-menu-options","cds--overflow-menu--flip",J.menu,$({},J.show,d)),tabIndex:0,"data-floating-menu-direction":"bottom",role:"menu","aria-labelledby":"custom-actions-overflow-menu-trigger",id:"custom-actions-overflow-menu"},o().createElement("ul",{className:S()("cds--overflow-menu-options__content",{"cds--overflow-menu-options--lg":m})},l),o().createElement("span",null)))};var te=n(9926),ne={};ne.styleTagTransform=h(),ne.setAttributes=f(),ne.insert=p().bind(null,"head"),ne.domAPI=m(),ne.insertStyleElement=g(),d()(te.Z,ne);const ae=te.Z&&te.Z.locals?te.Z.locals:void 0;function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){ie(e,t,n[t])}))}return e}function se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?re(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var le="@openmrs/esm-patient-banner-app",_e={featureName:"patient-banner",moduleName:le},ce=n(3979);function de(){(0,a.messageOmrsServiceWorker)({type:"registerDynamicRoute",pattern:".+/ws/rest/v1/relationship.+"}),(0,a.defineConfigSchema)(le,r)}var Ae=(0,a.getSyncLifecycle)((function(e){var t=e.patientUuid,n=e.patient,a=(0,_.useVisitOrOfflineVisit)(t).activeVisit,r=!(null==n?void 0:n.deceasedDateTime);return a&&r?o().createElement(B,{activeVisit:a}):null}),_e),me=(0,a.getSyncLifecycle)((function(e){var t=e.patient,n=(0,s.useTranslation)().t;return Boolean(null==t?void 0:t.deceasedDateTime)&&o().createElement(l.IiX,{align:"bottom-left",definition:o().createElement("div",{role:"tooltip",className:x.tooltipPadding},o().createElement("h6",{style:{marginBottom:"0.5rem"}},n("deceased","Deceased")),o().createElement("span",null,(0,a.formatDatetime)((0,a.parseDate)(null==t?void 0:t.deceasedDateTime))))},o().createElement(l.Vp9,{className:x.tagOverride},n("deceased","Deceased")))}),_e),ue=(0,a.getSyncLifecycle)((function(e){var t,n,r,_,c,d=e.patient,A=e.patientUuid,m=e.onClick,u=e.onTransition,p=e.hideActionsOverflow,b=(0,s.useTranslation)().t,f=(0,i.useRef)(null),C=(0,i.useRef)(null),g=se((0,i.useState)(!1),2),v=g[0],h=g[1],y=(0,a.useConfig)().excludePatientIdentifierCodeTypes,w=(0,a.useConnectedExtensions)("patient-actions-slot");(0,i.useEffect)((function(){var e=C.current,t=new ResizeObserver((function(e){var t=!0,n=!1,a=void 0;try{for(var r,i=e[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var o=r.value;h(o.contentRect.width<1023)}}catch(e){n=!0,a=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw a}}}));return t.observe(C.current),function(){e&&t.unobserve(e)}}),[C,h]);var E,B,D,T=(0,i.useMemo)((function(){return{patientUuid:A,onClick:m,onTransition:u}}),[A,m,u]),x="".concat(null==d||null===(r=d.name)||void 0===r||null===(n=r[0])||void 0===n||null===(t=n.given)||void 0===t?void 0:t.join(" ")," ").concat(null==d||null===(_=d.name)||void 0===_?void 0:_[0].family),k=(0,i.useMemo)((function(){return{patientUuid:A,patientName:x}}),[A,x]),I=se((0,i.useState)(!1),2),P=I[0],j=I[1],M=(0,i.useCallback)((function(){j((function(e){return!e}))}),[]),G=Boolean(null==d?void 0:d.deceasedDateTime),O=o().createElement("div",{className:ae.patientAvatar,role:"img"},o().createElement(a.ExtensionSlot,{name:"patient-photo-slot",state:k})),L=(0,i.useCallback)((function(e){m&&(!(null==f?void 0:f.current)||!(null==f?void 0:f.current.contains(e.target)))&&m(A)}),[m,A]),R=se((0,i.useState)(!1),2),U=R[0],z=R[1],Q=(0,i.useCallback)((function(){z((function(e){return!e}))}),[]),Z=(0,i.useMemo)((function(){return!p&&w.length>0}),[w.length,p]),Y=null!==(E=null==d||null===(c=d.identifier)||void 0===c?void 0:c.filter((function(e){return!(null==y?void 0:y.uuids.includes(e.type.coding[0].code))})))&&void 0!==E?E:[];return o().createElement("header",{className:S()(ae.container,G?ae.deceasedPatientContainer:ae.activePatientContainer),ref:C},o().createElement("div",{className:S()(ae.patientBanner,ie({},ae.patientAvatarButton,m)),onClick:L,role:"button",tabIndex:0},O,o().createElement("div",{className:ae.patientInfo},o().createElement("div",{className:S()(ae.row,ae.patientNameRow)},o().createElement("div",{className:ae.flexRow},o().createElement("span",{className:ae.patientName},x),o().createElement(a.ExtensionSlot,{name:"patient-banner-tags-slot",state:{patientUuid:A,patient:d},className:ae.flexRow})),Z&&o().createElement("div",{className:ae.overflowMenuContainer,ref:f},o().createElement(ee,{deceased:G,menuTitle:o().createElement(o().Fragment,null,o().createElement("span",{className:ae.actionsButtonText},b("actions","Actions"))," ",o().createElement(N.r4,{size:16,style:{marginLeft:"0.5rem",fill:"#78A9FF"}})),dropDownMenu:U},o().createElement(a.ExtensionSlot,{onClick:Q,name:"patient-actions-slot",key:"patient-actions-slot",className:ae.overflowMenuItemList,state:T})))),o().createElement("div",{className:ae.demographics},o().createElement("span",null,function(e){switch(e){case"male":return b("male","Male");case"female":return b("female","Female");case"other":return b("other","Other");case"unknown":return b("unknown","Unknown");default:return e}}(null==d?void 0:d.gender))," · ",o().createElement("span",null,(0,a.age)(null==d?void 0:d.birthDate))," ·"," ",o().createElement("span",null,(0,a.formatDate)((0,a.parseDate)(null==d?void 0:d.birthDate),{mode:"wide",time:!1}))),o().createElement("div",{className:ae.row},o().createElement("div",{className:ae.identifiers},(null==Y?void 0:Y.length)?Y.map((function(e){var t=e.value,n=e.type;return o().createElement("span",{key:t,className:ae.identifierTag},o().createElement(l.Vp9,{className:ae.tag,type:"gray",title:n.text},n.text),t)})):""),o().createElement(l.zxk,{className:ae.toggleContactDetailsButton,kind:"ghost",renderIcon:function(e){return P?o().createElement(F.Kh,oe({size:16},e)):o().createElement(F._M,oe({size:16},e))},iconDescription:"Toggle contact details",onClick:M,style:{marginTop:"-0.25rem"}},P?b("hideDetails","Hide details"):b("showDetails","Show details"))))),P&&o().createElement(q,{isTabletViewport:v,address:null!==(B=null==d?void 0:d.address)&&void 0!==B?B:[],telecom:null!==(D=null==d?void 0:d.telecom)&&void 0!==D?D:[],patientId:null==d?void 0:d.id,deceased:G}))}),_e)},3979:(e,t,n)=>{var a={"./am.json":[8788,788],"./ar.json":[4460,460],"./en.json":[3574,574],"./es.json":[8319,319],"./fr.json":[2757,757],"./he.json":[5833,833],"./km.json":[7807,807],"./zh.json":[8271,271],"./zh_CN.json":[1644,644]};function r(e){if(!n.o(a,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return n.e(t[1]).then((()=>n(r)))}r.keys=()=>Object.keys(a),r.id=3979,e.exports=r}}]);