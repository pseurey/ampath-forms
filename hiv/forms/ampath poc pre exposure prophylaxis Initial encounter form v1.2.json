{
	"name": "AMPATH POC Pre Exposure Prophylaxis Initial Form v1.2",
	"uuid": "xxxx",
	"processor": "EncounterFormProcessor",
	"referencedForms": [
		{
			"formName": "component_prep-preclinic-review-v1.0",
			"alias": "ppr",
			"ref": {
				"uuid": "6259df08-f431-4ecc-94d0-88603cefd254",
				"display": "Prep Preclinic Review v1.0 Component"
			}
		},
		{
			"formName": "component_education-v1.0",
			"alias": "edu1",
			"ref": {
				"uuid": "c02fdbf9-a988-45fd-9682-14e19303bbee",
				"display": "Education v1.0 Component"
			}
		},
		{
			"formName": "component_behavioural-assessment-v1.0",
			"alias": "bs1",
			"ref": {
				"uuid": "d2c5915a-0d00-4d3b-aae5-998e233cc7b1",
				"display": "Behavioural Assessment v1.0 Component"
			}
		},
		{
			"formName": "component_review-of-systems-v1.0",
			"alias": "ros1",
			"ref": {
				"uuid": "e3e8aa4f-6499-4177-a0a6-dd1af1fed402",
				"display": "ROS 1.0 Component"
			}
		},
		{
			"formName": "component_lab-results-v1.3",
			"alias": "tr13",
			"ref": {
				"uuid": "8c42da51-f11e-4907-a7da-5e390f55eb44",
				"display": "Lab Results v1.3 Component"
			}
		},
		{
			"formName": "component_return-to-clinic-date-v1.0",
			"alias": "rtc",
			"ref": {
				"uuid": "4dfde536-5ef0-48a9-ad2a-fd31eefb0639",
				"display": "Return to Clinic date v1.0 Component"
			}
		},
		{
			"formName": "component_vitals-v1.0",
			"alias": "vt1",
			"ref": {
				"uuid": "247cd599-a620-4634-95b5-1a1840339d98",
				"display": "Vitals 1.0 Component"
			}
		},
		{
			"formName": "component_problem-list-v1.0",
			"alias": "problemlist1",
			"ref": {
				"uuid": "bc7e5a02-f9e8-4339-accc-ca76c20913c1",
				"display": "Problem List Component 1.0"
			}
		},
		{
			"formName": "component_hpi",
			"alias": "hpi",
			"ref": {
				"uuid": "b91aef27-cd94-4934-94ac-c168ce539cb3",
				"display": "Hpi Component"
			}
		},
		{
			"formName": "component_sti-v1.1",
			"alias": "sti11",
			"ref": {
				"uuid": "cf990599-acdd-4292-a3d1-825e7800b3cd",
				"display": "STI v1.1 Component"
			}
		},
		{
			"formName": "component_prep-medication-v1.0",
			"alias": "prepmeds",
			"ref": {
				"uuid": "744274b3-1494-40bb-afaa-ce440f64ccaf",
				"display": "PREP Medication Component"
			}
		},
		{
			"formName": "component_assessment",
			"alias": "ass",
			"ref": {
				"uuid": "98e061d2-4a16-4665-b0dc-fc0266ee689c",
				"display": "Assessment Component"
			}
		},
		{
			"formName": "component_adult-hiv-status-v1.0",
			"alias": "hvs",
			"ref": {
				"uuid": "00f0a807-78d6-4129-a8e2-5a22550e56cf",
				"display": "Adult HIV Status v1.0 Component"
			}
		},
		{
			"formName": "component_review-of-systems",
			"alias": "rs",
			"ref": {
				"uuid": "135594bf-35b6-4e2b-abc3-fbbbc5d593a2",
				"display": "Review of Systems Component"
			}
		},
		{
			"formName": "component_adult-hiv-status-v1.0",
			"alias": "ahs1",
			"ref": {
				"uuid": "00f0a807-78d6-4129-a8e2-5a22550e56cf",
				"display": "Adult HIV Status v1.0 Component"
			}
		},
		{
			"formName": "component_reproductive-history-v1.1",
			"alias": "reh11",
			"ref": {
				"uuid": "ea149cf6-586a-442d-aa83-eb7bdf54f8f2",
				"display": "Reproductive history v1.1 Component"
			}
		},
		{
			"formName": "component_return-to-clinic-date-v1.0",
			"alias": "rtc",
			"ref": {
				"uuid": "4dfde536-5ef0-48a9-ad2a-fd31eefb0639",
				"display": "RTC Date Component"
			}
		},
		{
			"ref": {
				"uuid": "4f66e1c5-1d7c-400f-824f-5cdceb8e1b97",
				"display": "PrEP MEDS"
			},
			"formName": "component_prep-medication-v1.1",
			"alias": "prepmeds11"
		},
		{
			"ref": {
				"uuid": "ab38a0ae-47e7-463e-b589-b292d9c5d16f",
				"display": "Feeding v1.0 Compent"
			},
			"formName": "component_feeding-v1.0",
			"alias": "feeding"
		},
		{
			"ref": {
				"uuid": "ad50a94d-4edb-463d-b6e6-ac83eecffa7c",
				"display": "component_gender-based-violence-v1.0"
			},
			"formName": "component_gender-based-violence-v1.0",
			"alias": "gbv10"
		},
		{
			"ref": {
				"uuid": "ad50a94d-4edb-463d-b6e6-ac83eecffa7c",
				"display": "component_gender-based-violence-v1.0"
			},
			"formName": "component_gender-based-violence-v1.0",
			"alias": "gbv10"
		},
		{
			"ref": {
				"uuid": "1d265294-3a62-4ab4-bc64-038cbd4a8a14",
				"display": "component_positive-health-dignity-&-prevention-services-v1.2"
			},
			"formName": "component_positive-health-dignity-&-prevention-services-v1.2",
			"alias": "phdp12"
		},
		{
			"ref": {
				"uuid": "f3911e4a-1f99-4392-86bf-d99ff9086caa",
				"display": "Component_referral-v1.7"
			},
			"formName": "Component_referral-v1.7",
			"alias": "referral"
		}
	],
	"pages": [
		{
			"label": "Encounter Details",
			"sections": [
				{
					"label": "Encounter Details",
					"isExpanded": "true",
					"questions": [
						{
							"label": "Visit date",
							"type": "encounterDatetime",
							"required": "true",
							"default": "",
							"id": "encDate",
							"questionOptions": {
								"rendering": "date"
							},
							"validators": [
								{
									"type": "date"
								}
							]
						},
						{
							"type": "encounterProvider",
							"label": "Provider",
							"id": "provider",
							"required": "true",
							"default": "",
							"questionOptions": {
								"rendering": "ui-select-extended"
							}
						},
						{
							"type": "encounterLocation",
							"label": "Facility name (site/satellite clinic required):",
							"id": "location",
							"required": "true",
							"questionOptions": {
								"rendering": "ui-select-extended"
							}
						}
					]
				}
			]
		},
		{
			"label": "Client Profile",
			"sections": [
				{
					"label": "Client Profile",
					"questions": [
						{
							"label": "If age <19, attends school:",
							"id": "schoolAttend",
							"questionOptions": {
								"rendering": "select",
								"concept": "a8aaf9dc-1350-11df-a1f1-0026b9348838",
								"answers": [
									{
										"concept": "a899b35c-1350-11df-a1f1-0026b9348838",
										"label": "Yes"
									},
									{
										"concept": "a899b42e-1350-11df-a1f1-0026b9348838",
										"label": "No"
									}
								]
							},
							"type": "obs",
							"validators": []
						},
						{
							"label": "Marital status:",
							"type": "obs",
							"historicalExpression": "HD.getObject('prevEnc').getValue('a899a9f2-1350-11df-a1f1-0026b9348838')",
							"questionOptions": {
								"rendering": "select",
								"concept": "a899a9f2-1350-11df-a1f1-0026b9348838",
								"answers": [
									{
										"concept": "a899ac7c-1350-11df-a1f1-0026b9348838",
										"label": "Never Married"
									},
									{
										"concept": "a899af10-1350-11df-a1f1-0026b9348838",
										"label": "Cohabitating"
									},
									{
										"concept": "a8aa76b0-1350-11df-a1f1-0026b9348838",
										"label": "Married monogamous"
									},
									{
										"concept": "a8b03712-1350-11df-a1f1-0026b9348838",
										"label": "Married polygamous"
									},
									{
										"concept": "a899ad58-1350-11df-a1f1-0026b9348838",
										"label": "Divorced"
									},
									{
										"concept": "a899aba0-1350-11df-a1f1-0026b9348838",
										"label": "Separated"
									},
									{
										"concept": "a899ae34-1350-11df-a1f1-0026b9348838",
										"label": "Widowed"
									}
								]
							},
							"validators": [],
							"id": "maritalStatus"
						},
						{
							"label": "HIV test result:",
							"type": "obs",
							"id": "hivRapid",
							"required": "true",
							"questionOptions": {
								"concept": "a8999dfe-1350-11df-a1f1-0026b9348838",
								"rendering": "select",
								"answers": [
									{
										"concept": "a896f3a6-1350-11df-a1f1-0026b9348838",
										"label": "Positive"
									},
									{
										"concept": "a896d2cc-1350-11df-a1f1-0026b9348838",
										"label": "Negative"
									}
								],
								"showDate": "true",
								"shownDateOptions": {
									"validators": [
										{
											"type": "date"
										},
										{
											"type": "js_expression",
											"failsWhenExpression": "!isEmpty(hivRapid) && isEmpty(myValue)",
											"message": "Date result is required."
										}
									],
									"hide": {
										"hideWhenExpression": "isEmpty(hivRapid)"
									}
								}
							},
							"validators": []
						},
						{
							"label": "Population type:",
							"required": "true",
							"id": "popType",
							"questionOptions": {
								"concept": "bbc2e048-0db6-4c22-a951-dab66b1243f9",
								"answers": [
									{
										"concept": "a4d337b6-4029-467f-9b16-629e24d05e15",
										"label": "Transgender"
									},
									{
										"concept": "95d14f8c-87dc-4f53-acbe-525086c65a1d",
										"label": "Adolescent girls and young women(15-24YRS)"
									},
									{
										"concept": "0bd518b7-bfb7-4d80-85e9-7a7636369037",
										"label": "Men having sex with men"
									},
									{
										"concept": "bbd42058-b40b-4583-a5ab-3178554a11f2",
										"label": "Men at high risk"
									},
									{
										"concept": "a890d57a-1350-11df-a1f1-0026b9348838",
										"label": "People who inject drugs"
									},
									{
										"concept": "95845475-c298-4e86-9560-736634965427",
										"label": "Other Women"
									},
									{
										"concept": "45070778-f43e-436f-aa7a-795d3bdb4f6e",
										"label": "SeroDiscordant couple"
									},
									{
										"concept": "501731a2-f8ca-4bfe-b86b-3bce455e2e52",
										"label": "Pregnant women"
									},
									{
										"concept": "9b58ed9a-e4a1-4de4-81d9-1b319fd15eca",
										"label": "Breastfeeding women"
									},
									{
										"concept": "8e31a288-1a91-438b-8c88-768a61ba29ab",
										"label": "Female sex workers"
									},
									{
										"concept": "0bd518b7-bfb7-4d80-85e9-7a7636369037",
										"label": "Male sex workers"
									}
								],
								"rendering": "select"
							},
							"type": "obs",
							"validators": [
								{
									"type": "js_expression",
									"failsWhenExpression": "!isEmpty(hivRapid) && hivRapid === 'a896f3a6-1350-11df-a1f1-0026b9348838' && !isEmpty(myValue)",
									"message": "Patient HIV test results marked as positive. A positive client should not be enrolled in PrEP."
								}
							]
						}
					]
				},
				{
					"label": "Entry Point and Transfer Status",
					"questions": [
						{
							"label": "Referred from:",
							"required": "true",
							"id": "referredFrom",
							"questionOptions": {
								"concept": "2bf97633-a48d-4f8c-bb39-8491bad0dfa3",
								"answers": [
									{
										"concept": "a8a17cc2-1350-11df-a1f1-0026b9348838",
										"label": "HBTC"
									},
									{
										"concept": "a8a17b3c-1350-11df-a1f1-0026b9348838",
										"label": "VCT"
									},
									{
										"concept": "a8a09ac8-1350-11df-a1f1-0026b9348838",
										"label": "OPD"
									},
									{
										"concept": "a8a17d80-1350-11df-a1f1-0026b9348838",
										"label": "MCH"
									},
									{
										"concept": "a890a96a-1350-11df-a1f1-0026b9348838",
										"label": "TB clinic"
									},
									{
										"concept": "ff3243bf-05f6-426d-aa49-969034962e45",
										"label": "Adult inpatient"
									},
									{
										"concept": "a8a3899a-1350-11df-a1f1-0026b9348838",
										"label": "CCC"
									},
									{
										"concept": "d1eb251b-3c97-4406-b292-2c6e7a7ff968",
										"label": "Peer group"
									},
									{
										"concept": "a8afd286-1350-11df-a1f1-0026b9348838",
										"label": "Outreach"
									},
									{
										"concept": "3e69faed-e56f-4ff1-8831-922224d6ae6b",
										"label": "Self referral"
									},
									{
										"concept": "9bc09285-7a04-4c81-a313-3a1c67f5c84a",
										"label": "Community"
									},
									{
										"concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
										"label": "Other"
									}
								],
								"rendering": "select"
							},
							"type": "obs",
							"validators": []
						},
						{
							"label": "Is this patient transfering to AMPATH for PrEP?",
							"required": "true",
							"id": "transferInControl",
							"type": "obs",
							"questionOptions": {
								"concept": "f5e96501-deed-4c0a-9dce-116107b4d0d9",
								"rendering": "select",
								"answers": [
									{
										"concept": "a899b35c-1350-11df-a1f1-0026b9348838",
										"label": "Yes"
									},
									{
										"concept": "a899b42e-1350-11df-a1f1-0026b9348838",
										"label": "No"
									}
								],
								"validators": []
							}
						},
						{
							"label": "PrEP start date:",
							"type": "obs",
							"id": "prepStartDate",
							"questionOptions": {
								"concept": "a89ae092-1350-11df-a1f1-0026b9348838",
								"rendering": "date"
							},
							"validators": [
								{
									"type": "date",
									"allowFutureDates": "false"
								},
								{
									"type": "js_expression",
									"failsWhenExpression": "(new moment(encDate)).isBefore((new moment(myValue)), 'day') || (new moment(encDate)).isSame((new moment(myValue)), 'day')",
									"message": "Prep start date should be before the encounter date."
								},
								{
									"type": "js_expression",
									"failsWhenExpression": "!isEmpty(transferInControl) && transferInControl === 'a899b35c-1350-11df-a1f1-0026b9348838' && isEmpty(myValue)",
									"message": "Patient is a transfer in. Kindly provide start date."
								}
							],
							"hide": {
								"hideWhenExpression": "transferInControl !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
							}
						},
						{
							"label": "PrEP regimen:",
							"id": "currentPrepRegimen",
							"type": "obs",
							"questionOptions": {
								"concept": "b42438be-5010-4416-8869-4255f6ee7ae0",
								"answers": [
									{
										"concept": "6766ebbc-3298-11e0-8090-0026b9348838",
										"label": "TDF/FTC"
									},
									{
										"concept": "a89cc876-1350-11df-a1f1-0026b9348838",
										"label": "3TC300mg/TDF300mg"
									},
									{
										"concept": "6fbadffc-3127-11e0-8090-0026b9348838",
										"label": "TDF"
									}
								],
								"rendering": "multiCheckbox"
							},
							"validators": [
								{
									"type": "js_expression",
									"failsWhenExpression": "!isEmpty(transferInControl) && transferInControl === 'a899b35c-1350-11df-a1f1-0026b9348838' && isEmpty(myValue)",
									"message": "Patient is a transfer in. Kindly provide start date."
								}
							],
							"hide": {
								"hideWhenExpression": "transferInControl !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
							}
						},
						{
							"type": "obsGroup",
							"label": "Transfer in from other centre, detailed",
							"questionOptions": {
								"concept": "0f8b7f4e-1656-46b7-bc93-d1fe4f193f5d",
								"rendering": "group"
							},
							"questions": [
								{
									"label": "Facility transferred from:",
									"id": "transferIn",
									"questionOptions": {
										"rendering": "select",
										"concept": "35ed8aad-d6fa-429e-961a-c877e1ad4953",
										"answers": [
											{
												"concept": "a89c2f42-1350-11df-a1f1-0026b9348838",
												"label": "AMPATH"
											},
											{
												"concept": "a89c301e-1350-11df-a1f1-0026b9348838",
												"label": "Non-AMPATH"
											}
										]
									},
									"type": "obs",
									"validators": [],
									"hide": {
										"hideWhenExpression": "transferInControl !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
									}
								},
								{
									"type": "personAttribute",
									"label": "If transfer in from other AMPATH clinic (specify):",
									"id": "transfered_in_to_ampath",
									"required": "false",
									"default": "",
									"questionOptions": {
										"rendering": "ui-select-extended",
										"attributeType": "7ef225db-94db-4e40-9dd8-fb121d9dc370"
									},
									"validators": [],
									"hide": {
										"hideWhenExpression": "transferIn !== 'a89c2f42-1350-11df-a1f1-0026b9348838'"
									}
								},
								{
									"type": "obs",
									"label": "If non-AMPATH, specify:",
									"id": "nonAmpathSpecify",
									"questionOptions": {
										"concept": "a8a06fc6-1350-11df-a1f1-0026b9348838",
										"rendering": "text"
									},
									"validators": [],
									"hide": {
										"hideWhenExpression": "transferIn !== 'a89c301e-1350-11df-a1f1-0026b9348838'"
									}
								}
							],
							"id": "__nvpJFLto6"
						},
						{
							"label": "Transfer in county:",
							"id": "transfer",
							"questionOptions": {
								"concept": "10bca44a-930f-46ae-b686-63ddb36a713f",
								"rendering": "text"
							},
							"type": "obs",
							"validators": [],
							"hide": {
								"hideWhenExpression": "transferInControl !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
							}
						}
					]
				}
			]
		},
		{
			"label": "Baseline Assessment",
			"sections": [
				{
					"label": "Behaviour risk assessment",
					"questions": [
						{
							"type": "obsGroup",
							"label": "Behaviour Risk Assessment, Detailed",
							"questionOptions": {
								"concept": "faaa5ce4-c888-4d7d-9ee5-137f64f431cf",
								"rendering": "group"
							},
							"questions": [
								{
									"label": "Mark all that apply:",
									"required": "true",
									"id": "baselineAss",
									"questionOptions": {
										"rendering": "multiCheckbox",
										"concept": "4069aec8-c591-4fc9-8a16-29b90f3f9046",
										"answers": [
											{
												"label": "Sex partner(s) is HIV positive",
												"concept": "a8aaa054-1350-11df-a1f1-0026b9348838"
											},
											{
												"label": "Sex partner(s) at high risk for HIV and HIV status is unknown",
												"concept": "f725d92e-575e-435e-ba8c-befe95fbd662"
											},
											{
												"label": "Has sex with more than 1 partner",
												"concept": "c245b312-3527-4bcb-84ec-5a04dc7c3563"
											},
											{
												"label": "Ongoing intimate partner violence",
												"concept": "a54ea51a-08be-4d89-a7eb-d0b235764a1e"
											},
											{
												"label": "Ongoing gender based violence",
												"concept": "20e383a3-7eee-4bc1-b6dc-d536676c4fae"
											},
											{
												"label": "Transactional sex",
												"concept": "7ff5752c-4ccb-45bb-a001-c194316ba35b"
											},
											{
												"label": "Recent STI",
												"concept": "a8934292-1350-11df-a1f1-0026b9348838"
											},
											{
												"label": "Recurrent use of post-exposure prophylaxis",
												"concept": "492d008e-de2e-4efc-ace6-04bbd31bee05"
											},
											{
												"label": "Recurrent sex under influence of alcohol/recreational drugs",
												"concept": "9506b97f-c8bc-48a8-a439-72bb65276785"
											},
											{
												"label": "No condom use",
												"concept": "c07a5032-a218-4ae8-bcb4-4788b753262e"
											},
											{
												"label": "IDU with shared needles/syringes",
												"concept": "a890d57a-1350-11df-a1f1-0026b9348838"
											},
											{
												"label": "Other",
												"concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838"
											}
										]
									},
									"type": "obs",
									"validators": []
								},
								{
									"label": "Other specify:",
									"id": "otherSpecify",
									"questionOptions": {
										"rendering": "text",
										"concept": "a8a06fc6-1350-11df-a1f1-0026b9348838"
									},
									"type": "obs",
									"validators": [],
									"hide": {
										"hideWhenExpression": "isEmpty(baselineAss) || arrayContains(['f725d92e-575e-435e-ba8c-befe95fbd662', 'a8aaa054-1350-11df-a1f1-0026b9348838','c245b312-3527-4bcb-84ec-5a04dc7c3563', 'a54ea51a-08be-4d89-a7eb-d0b235764a1e', '7ff5752c-4ccb-45bb-a001-c194316ba35b', 'a8934292-1350-11df-a1f1-0026b9348838', '492d008e-de2e-4efc-ace6-04bbd31bee05', '9506b97f-c8bc-48a8-a439-72bb65276785', 'c07a5032-a218-4ae8-bcb4-4788b753262e', 'a890d57a-1350-11df-a1f1-0026b9348838'],baselineAss)"
									}
								}
							],
							"id": "__IuzMJFFFn"
						},
						{
							"label": "If sex partner(s) is HIV positive, mark all that apply:",
							"id": "partnersBehaviour",
							"questionOptions": {
								"rendering": "multiCheckbox",
								"concept": "80791f77-60b4-4991-830a-fc3ac063b701",
								"answers": [
									{
										"label": "Not on ART",
										"concept": "a89ee46c-1350-11df-a1f1-0026b9348838"
									},
									{
										"label": "On ART less than 6 months",
										"concept": "aaeb465a-32a4-405f-9454-2ad9004c099f"
									},
									{
										"label": "Suspected poor adherence to ART",
										"concept": "a89ce50e-1350-11df-a1f1-0026b9348838"
									},
									{
										"label": "Detectable HIV viral load",
										"concept": "8c0d56b4-9136-413f-b547-f1ec367ee23e"
									},
									{
										"label": "Couple is trying to conceive",
										"concept": "2e78504f-1946-479b-8cd1-d9ded0a68bd5"
									}
								]
							},
							"type": "obs",
							"validators": [],
							"hide": {
								"hideWhenExpression": "isEmpty(baselineAss) || arrayContains(['f725d92e-575e-435e-ba8c-befe95fbd662', 'a8aaf3e2-1350-11df-a1f1-0026b9348838','c245b312-3527-4bcb-84ec-5a04dc7c3563', 'a54ea51a-08be-4d89-a7eb-d0b235764a1e', '7ff5752c-4ccb-45bb-a001-c194316ba35b', 'a8934292-1350-11df-a1f1-0026b9348838', '492d008e-de2e-4efc-ace6-04bbd31bee05', '9506b97f-c8bc-48a8-a439-72bb65276785', 'c07a5032-a218-4ae8-bcb4-4788b753262e', 'a890d57a-1350-11df-a1f1-0026b9348838'],baselineAss)"
							}
						},
						{
							"label": "HIV positive partner enrolled in CCC?",
							"id": "partnerEnrolled",
							"questionOptions": {
								"rendering": "select",
								"concept": "a8afba58-1350-11df-a1f1-0026b9348838",
								"answers": [
									{
										"label": "Yes",
										"concept": "a899b35c-1350-11df-a1f1-0026b9348838"
									},
									{
										"label": "No",
										"concept": "a899b42e-1350-11df-a1f1-0026b9348838"
									},
									{
										"label": "Unknown",
										"concept": "a899b50a-1350-11df-a1f1-0026b9348838"
									}
								]
							},
							"type": "obs",
							"validators": [],
							"hide": {
								"hideWhenExpression": "isEmpty(baselineAss) || arrayContains(['f725d92e-575e-435e-ba8c-befe95fbd662', 'a8aaf3e2-1350-11df-a1f1-0026b9348838','c245b312-3527-4bcb-84ec-5a04dc7c3563', 'a54ea51a-08be-4d89-a7eb-d0b235764a1e', '7ff5752c-4ccb-45bb-a001-c194316ba35b', 'a8934292-1350-11df-a1f1-0026b9348838', '492d008e-de2e-4efc-ace6-04bbd31bee05', '9506b97f-c8bc-48a8-a439-72bb65276785', 'c07a5032-a218-4ae8-bcb4-4788b753262e', 'a890d57a-1350-11df-a1f1-0026b9348838'],baselineAss)"
							}
						},
						{
							"label": "HIV positive partner CCC number?",
							"id": "partnerCcc",
							"questionOptions": {
								"rendering": "number",
								"concept": "45821d60-95fb-45f5-a267-c7e04cb25480"
							},
							"type": "obs",
							"validators": [],
							"hide": {
								"hideWhenExpression": "isEmpty(partnerEnrolled) || partnerEnrolled !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
							}
						},
						{
							"label": "HIV positive Partner on ART at initial visit?",
							"id": "partnerOnArt",
							"questionOptions": {
								"rendering": "select",
								"concept": "a89ae254-1350-11df-a1f1-0026b9348838",
								"answers": [
									{
										"label": "Yes",
										"concept": "a899b35c-1350-11df-a1f1-0026b9348838"
									},
									{
										"label": "No",
										"concept": "a899b42e-1350-11df-a1f1-0026b9348838"
									}
								]
							},
							"type": "obs",
							"hide": {
								"hideWhenExpression": "isEmpty(baselineAss) || arrayContains(['f725d92e-575e-435e-ba8c-befe95fbd662', 'a8aaf3e2-1350-11df-a1f1-0026b9348838','c245b312-3527-4bcb-84ec-5a04dc7c3563', 'a54ea51a-08be-4d89-a7eb-d0b235764a1e', '7ff5752c-4ccb-45bb-a001-c194316ba35b', 'a8934292-1350-11df-a1f1-0026b9348838', '492d008e-de2e-4efc-ace6-04bbd31bee05', '9506b97f-c8bc-48a8-a439-72bb65276785', 'c07a5032-a218-4ae8-bcb4-4788b753262e', 'a890d57a-1350-11df-a1f1-0026b9348838'],baselineAss)"
							}
						},
						{
							"label": "HIV positive partner ART start date:",
							"type": "obs",
							"id": "partnerArtStart",
							"questionOptions": {
								"concept": "a89d200a-1350-11df-a1f1-0026b9348838",
								"rendering": "date"
							},
							"validators": [
								{
									"type": "date",
									"allowFutureDates": "false"
								},
								{
									"type": "js_expression",
									"failsWhenExpression": "(new moment(encDate)).isBefore((new moment(myValue)), 'day') ",
									"message": "ARV start date should be before the encounter date."
								}
							],
							"hide": {
								"hideWhenExpression": "isEmpty(partnerOnArt) || partnerOnArt!== 'a899b35c-1350-11df-a1f1-0026b9348838'"
							}
						},
						{
							"label": "Time known to be HIV negative serodiscordant in years:",
							"id": "timeDiscordantYears",
							"questionOptions": {
								"rendering": "number",
								"concept": "92ef7630-14d2-4dbc-986d-5f33c03d37c4"
							},
							"type": "obs",
							"validators": [],
							"hide": {
								"hideWhenExpression": "isEmpty(baselineAss) || arrayContains(['f725d92e-575e-435e-ba8c-befe95fbd662', 'a8aaf3e2-1350-11df-a1f1-0026b9348838','c245b312-3527-4bcb-84ec-5a04dc7c3563', 'a54ea51a-08be-4d89-a7eb-d0b235764a1e', '7ff5752c-4ccb-45bb-a001-c194316ba35b', 'a8934292-1350-11df-a1f1-0026b9348838', '492d008e-de2e-4efc-ace6-04bbd31bee05', '9506b97f-c8bc-48a8-a439-72bb65276785', 'c07a5032-a218-4ae8-bcb4-4788b753262e', 'a890d57a-1350-11df-a1f1-0026b9348838'],baselineAss)"
							}
						},
						{
							"label": "Time known to be HIV negative serodiscordant in months:",
							"id": "timeDiscordantMonths",
							"questionOptions": {
								"rendering": "number",
								"concept": "01f1eab0-115d-487f-8359-e4e3dce50eed"
							},
							"type": "obs",
							"validators": [],
							"hide": {
								"hideWhenExpression": "isEmpty(baselineAss) || arrayContains(['f725d92e-575e-435e-ba8c-befe95fbd662', 'a8aaf3e2-1350-11df-a1f1-0026b9348838','c245b312-3527-4bcb-84ec-5a04dc7c3563', 'a54ea51a-08be-4d89-a7eb-d0b235764a1e', '7ff5752c-4ccb-45bb-a001-c194316ba35b', 'a8934292-1350-11df-a1f1-0026b9348838', '492d008e-de2e-4efc-ace6-04bbd31bee05', '9506b97f-c8bc-48a8-a439-72bb65276785', 'c07a5032-a218-4ae8-bcb4-4788b753262e', 'a890d57a-1350-11df-a1f1-0026b9348838'],baselineAss)"
							}
						},
						{
							"label": "Sex without a condom with HIV positive partner in the past 30 days?",
							"id": "sexWithoutCondom",
							"questionOptions": {
								"rendering": "select",
								"concept": "01ca8654-febc-44ff-ae0e-99d7fe8356b7",
								"answers": [
									{
										"label": "Yes",
										"concept": "a899b35c-1350-11df-a1f1-0026b9348838"
									},
									{
										"label": "No",
										"concept": "a899b42e-1350-11df-a1f1-0026b9348838"
									}
								]
							},
							"type": "obs",
							"validators": [],
							"hide": {
								"hideWhenExpression": "isEmpty(baselineAss) || arrayContains(['f725d92e-575e-435e-ba8c-befe95fbd662', 'a8aaf3e2-1350-11df-a1f1-0026b9348838','c245b312-3527-4bcb-84ec-5a04dc7c3563', 'a54ea51a-08be-4d89-a7eb-d0b235764a1e', '7ff5752c-4ccb-45bb-a001-c194316ba35b', 'a8934292-1350-11df-a1f1-0026b9348838', '492d008e-de2e-4efc-ace6-04bbd31bee05', '9506b97f-c8bc-48a8-a439-72bb65276785', 'c07a5032-a218-4ae8-bcb4-4788b753262e', 'a890d57a-1350-11df-a1f1-0026b9348838'],baselineAss)"
							}
						},
						{
							"label": "Number of living children with HIV positive partner:",
							"id": "livingChildren",
							"questionOptions": {
								"rendering": "number",
								"concept": "a89eed5e-1350-11df-a1f1-0026b9348838",
								"max": "20",
								"min": "0"
							},
							"type": "obs",
							"validators": [],
							"hide": {
								"hideWhenExpression": "isEmpty(baselineAss) || arrayContains(['f725d92e-575e-435e-ba8c-befe95fbd662', 'a8aaf3e2-1350-11df-a1f1-0026b9348838','c245b312-3527-4bcb-84ec-5a04dc7c3563', 'a54ea51a-08be-4d89-a7eb-d0b235764a1e', '7ff5752c-4ccb-45bb-a001-c194316ba35b', 'a8934292-1350-11df-a1f1-0026b9348838', '492d008e-de2e-4efc-ace6-04bbd31bee05', '9506b97f-c8bc-48a8-a439-72bb65276785', 'c07a5032-a218-4ae8-bcb4-4788b753262e', 'a890d57a-1350-11df-a1f1-0026b9348838'],baselineAss)"
							}
						}
					]
				},
				{
					"label": "Medical Assessment",
					"questions": [
						{
							"label": "BP systolic:",
							"id": "syst",
							"questionOptions": {
								"rendering": "number",
								"concept": "a8a65d5a-1350-11df-a1f1-0026b9348838",
								"max": "250",
								"min": "0"
							},
							"type": "obs",
							"validators": []
						},
						{
							"label": "BP diastolic:",
							"id": "dias",
							"questionOptions": {
								"rendering": "number",
								"concept": "a8a65e36-1350-11df-a1f1-0026b9348838",
								"max": "200",
								"min": "0"
							},
							"type": "obs",
							"validators": []
						},
						{
							"label": "Temp (C):",
							"id": "temp",
							"questionOptions": {
								"rendering": "decimal",
								"concept": "a8a65fee-1350-11df-a1f1-0026b9348838",
								"max": "43.00",
								"min": "25.00"
							},
							"type": "obs",
							"validators": [
								{
									"type": "decimal",
									"decimalPlace": 1
								}
							]
						},
						{
							"label": "Weight (Kg):",
							"id": "weight",
							"questionOptions": {
								"rendering": "decimal",
								"concept": "a8a660ca-1350-11df-a1f1-0026b9348838",
								"max": "250.00",
								"min": "0.00"
							},
							"type": "obs",
							"validators": [
								{
									"type": "decimal",
									"decimalPlace": 1
								}
							]
						},
						{
							"label": "Height (cm):",
							"id": "height",
							"questionOptions": {
								"rendering": "decimal",
								"concept": "a8a6619c-1350-11df-a1f1-0026b9348838",
								"max": "228.00",
								"min": "0.00"
							},
							"type": "obs",
							"validators": [
								{
									"type": "decimal",
									"decimalPlace": 1
								}
							]
						},
						{
							"label": "Do you have any signs or symptoms of STI?",
							"required": "true",
							"id": "stiSymptoms",
							"questionOptions": {
								"concept": "b76021d2-38c7-42ff-b2eb-0bd558396ef7",
								"answers": [
									{
										"concept": "a899b35c-1350-11df-a1f1-0026b9348838",
										"label": "Yes"
									},
									{
										"concept": "a899b42e-1350-11df-a1f1-0026b9348838",
										"label": "No"
									}
								],
								"rendering": "select"
							},
							"type": "obs",
							"validators": []
						},
						{
							"label": "If yes, what signs or symptoms do you have?",
							"questionOptions": {
								"concept": "a8b00562-1350-11df-a1f1-0026b9348838",
								"answers": [
									{
										"concept": "a8982b54-1350-11df-a1f1-0026b9348838",
										"label": "Genital ulcers disease"
									},
									{
										"concept": "a892ea2c-1350-11df-a1f1-0026b9348838",
										"label": "Vaginitis"
									},
									{
										"concept": "a8ad2eb4-1350-11df-a1f1-0026b9348838",
										"label": "Vaginal discharge"
									},
									{
										"concept": "a8931cf4-1350-11df-a1f1-0026b9348838",
										"label": "Cervicitis"
									},
									{
										"concept": "d31e0260-cd5d-44ec-9341-1b837c8675aa",
										"label": "Cervical discharge"
									},
									{
										"concept": "a8986754-1350-11df-a1f1-0026b9348838",
										"label": "Pelvic inflammatory disease"
									},
									{
										"concept": "a8ad3062-1350-11df-a1f1-0026b9348838",
										"label": "Urethral discharge"
									},
									{
										"concept": "6201b563-716f-4c75-bb61-ec92864d2e53",
										"label": "Anal discharge"
									},
									{
										"concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
										"label": "Other"
									}
								],
								"rendering": "multiCheckbox"
							},
							"type": "obs",
							"validators": [],
							"hide": {
								"hideWhenExpression": "stiSymptoms !== 'a899b35c-1350-11df-a1f1-0026b9348838' || !arrayContains(['d164c76c-cc91-4ac2-89e9-ab7c29152ee0','824cf3e6-dd16-4767-ba41-2e04dede349e'], visitType.uuid)"
							},
							"id": "stiSigns"
						},
						{
							"label": "Do you have acute HIV signs?",
							"type": "obs",
							"questionOptions": {
								"rendering": "select",
								"concept": "39220cda-f62a-4514-8d73-013585e59770",
								"answers": [
									{
										"concept": "a899b35c-1350-11df-a1f1-0026b9348838",
										"label": "Yes"
									},
									{
										"concept": "a899b42e-1350-11df-a1f1-0026b9348838",
										"label": "No"
									}
								]
							},
							"validators": [],
							"id": "hivSigns"
						}
					]
				},
				{
					"label": "Chronic Illness and Comorbidities",
					"isExpanded": "true",
					"questions": [
						{
							"type": "obsGroup",
							"label": "Liver Disease, Detailed",
							"questionOptions": {
								"concept": "032a3332-2795-4922-b51f-90bc54c0732c",
								"rendering": "group"
							},
							"questions": [
								{
									"label": "Liver disease:",
									"id": "liver",
									"questionOptions": {
										"concept": "a8ad516e-1350-11df-a1f1-0026b9348838",
										"rendering": "select",
										"answers": [
											{
												"concept": "a899b35c-1350-11df-a1f1-0026b9348838",
												"label": "Yes"
											},
											{
												"concept": "a899b42e-1350-11df-a1f1-0026b9348838",
												"label": "No"
											}
										]
									},
									"type": "obs",
									"validators": []
								},
								{
									"label": "Treatment:",
									"id": "liverTreatment",
									"questionOptions": {
										"concept": "45198f3c-36a1-4dfe-9977-46bf1f75a1ca",
										"rendering": "text"
									},
									"type": "obs",
									"validators": [],
									"hide": {
										"hideWhenExpression": "liver !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
									}
								}
							],
							"id": "liverDetailed"
						},
						{
							"type": "obsGroup",
							"label": "Kidney Disease, Detailed",
							"questionOptions": {
								"concept": "acf48483-cfa4-4ab9-b793-0079153b8778",
								"rendering": "group"
							},
							"questions": [
								{
									"label": "Kidney disease:",
									"id": "kidney",
									"questionOptions": {
										"concept": "a8ad5254-1350-11df-a1f1-0026b9348838",
										"rendering": "select",
										"answers": [
											{
												"concept": "a899b35c-1350-11df-a1f1-0026b9348838",
												"label": "Yes"
											},
											{
												"concept": "a899b42e-1350-11df-a1f1-0026b9348838",
												"label": "No"
											}
										]
									},
									"type": "obs",
									"validators": []
								},
								{
									"label": "Treatment:",
									"id": "kidneyTreatment",
									"questionOptions": {
										"concept": "45198f3c-36a1-4dfe-9977-46bf1f75a1ca",
										"rendering": "text"
									},
									"type": "obs",
									"validators": [],
									"hide": {
										"hideWhenExpression": "kidney !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
									}
								}
							],
							"id": "kidneyDetailed"
						},
						{
							"type": "obsGroup",
							"label": "Other Illnesses",
							"questionOptions": {
								"concept": "e6aafb67-3e12-439a-9132-c62569e76ab0",
								"rendering": "repeating"
							},
							"questions": [
								{
									"label": "Other description:",
									"id": "probAdded",
									"questionOptions": {
										"concept": "a8ae835e-1350-11df-a1f1-0026b9348838",
										"rendering": "problem"
									},
									"type": "obs",
									"validators": []
								},
								{
									"label": "Treatment:",
									"id": "probAddedTreatment",
									"questionOptions": {
										"concept": "a8a06fc6-1350-11df-a1f1-0026b9348838",
										"rendering": "text"
									},
									"type": "obs",
									"validators": []
								}
							],
							"id": "otherIllness"
						}
					]
				},
				{
					"label": "Fertility Intentions",
					"isExpanded": "true",
					"questions": [
						{
							"label": "Circumcised?",
							"id": "circumcised",
							"questionOptions": {
								"concept": "a8a18690-1350-11df-a1f1-0026b9348838",
								"answers": [
									{
										"concept": "a899b35c-1350-11df-a1f1-0026b9348838",
										"label": "Yes"
									},
									{
										"concept": "a899b42e-1350-11df-a1f1-0026b9348838",
										"label": "No"
									},
									{
										"concept": "a899b50a-1350-11df-a1f1-0026b9348838",
										"label": "Unknown"
									}
								],
								"rendering": "select"
							},
							"type": "obs",
							"validators": [],
							"hide": {
								"hideWhenExpression": "sex !== 'M'"
							}
						},
						{
							"label": "LMP:",
							"id": "lmpDate1",
							"questionOptions": {
								"concept": "a89ff758-1350-11df-a1f1-0026b9348838",
								"rendering": "date"
							},
							"type": "obs",
							"validators": [
								{
									"type": "date"
								},
								{
									"type": "js_expression",
									"failsWhenExpression": "isEmpty(myValue) && !isEmpty(pattype1) && pattype1 === '375e6d4a-ba94-41ac-8ac3-5a56015c4d92'",
									"message": "Patient is antenatal. Please provide LMP."
								},
								{
									"type": "js_expression",
									"failsWhenExpression": "isEmpty(myValue) && !isEmpty(menStatus) && menStatus === 'a8ad2b4e-1350-11df-a1f1-0026b9348838'",
									"message": "Patient is menstruating. Please provide LMP."
								}
							],
							"hide": {
								"hideWhenExpression": "sex !== 'F'"
							}
						},
						{
							"label": "Is the patient pregnant?",
							"id": "pregnant",
							"questionOptions": {
								"concept": "6b4f1d00-0a27-41dd-a299-fb7dc730819c",
								"rendering": "select",
								"answers": [
									{
										"concept": "a899b35c-1350-11df-a1f1-0026b9348838",
										"label": "Yes"
									},
									{
										"concept": "a899b42e-1350-11df-a1f1-0026b9348838",
										"label": "No"
									}
								]
							},
							"type": "obs",
							"validators": [
								{
									"type": "js_expression",
									"failsWhenExpression": "isEmpty(myValue) && moment(encDate).diff(moment(lmpDate1), 'days') >= 35",
									"message": "Last LMP is greater than 35 days. Please indicate patient's pregnancy status."
								}
							],
							"hide": {
								"hideWhenExpression": "sex !== 'F' || menStatus !== 'a8ad2b4e-1350-11df-a1f1-0026b9348838'"
							}
						},
						{
							"label": "If pregnant, was it planned?",
							"id": "plannedPregnancy",
							"questionOptions": {
								"concept": "d8e84bcc-1b6b-41c6-9465-9f19bedc059a",
								"rendering": "select",
								"answers": [
									{
										"concept": "a899b35c-1350-11df-a1f1-0026b9348838",
										"label": "Yes"
									},
									{
										"concept": "a899b42e-1350-11df-a1f1-0026b9348838",
										"label": "No"
									}
								]
							},
							"type": "obs",
							"validators": [],
							"hide": {
								"hideWhenExpression": "pregnant !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
							}
						},
						{
							"label": "Breastfeeding?",
							"id": "childBreFeeding",
							"questionOptions": {
								"concept": "a8aafc70-1350-11df-a1f1-0026b9348838",
								"answers": [
									{
										"concept": "a899b35c-1350-11df-a1f1-0026b9348838",
										"label": "Yes"
									},
									{
										"concept": "a899b42e-1350-11df-a1f1-0026b9348838",
										"label": "No"
									}
								],
								"rendering": "select"
							},
							"type": "obs",
							"validators": [],
							"hide": {
								"hideWhenExpression": "sex !== 'F'"
							}
						},
						{
							"label": "On family planning?",
							"id": "familyPlan",
							"questionOptions": {
								"concept": "a8a70fde-1350-11df-a1f1-0026b9348838",
								"answers": [
									{
										"concept": "a899b35c-1350-11df-a1f1-0026b9348838",
										"label": "Yes"
									},
									{
										"concept": "a899b42e-1350-11df-a1f1-0026b9348838",
										"label": "No"
									}
								],
								"rendering": "select"
							},
							"type": "obs",
							"validators": []
						},
						{
							"label": "Family planning method:",
							"required": "true",
							"historicalExpression": "_.isEmpty(HD.getObject('prevEnc').getValue('767e8060-5272-4927-ab78-97534a4499ef.a894b1cc-1350-11df-a1f1-0026b9348838')) ? undefined : HD.getObject('prevEnc').getValue('767e8060-5272-4927-ab78-97534a4499ef.a894b1cc-1350-11df-a1f1-0026b9348838')",
							"id": "fpMethod",
							"questionOptions": {
								"concept": "a894b1cc-1350-11df-a1f1-0026b9348838",
								"answers": [
									{
										"concept": "a893516a-1350-11df-a1f1-0026b9348838",
										"label": "Condoms"
									},
									{
										"concept": "a8a713f8-1350-11df-a1f1-0026b9348838",
										"label": "Tubal ligation/female sterilization"
									},
									{
										"concept": "a8aff284-1350-11df-a1f1-0026b9348838",
										"label": "Fertility awareness method/periodic abstinence"
									},
									{
										"concept": "a8a71588-1350-11df-a1f1-0026b9348838",
										"label": "Diaphragm/cervical cap"
									},
									{
										"concept": "4a740e33-fee5-4a2b-b679-1904722e3d9e",
										"label": "Lactational amenorrhea method"
									},
									{
										"concept": "a8a71330-1350-11df-a1f1-0026b9348838",
										"label": "Intra uterine device"
									},
									{
										"concept": "a8aff356-1350-11df-a1f1-0026b9348838",
										"label": "Implant"
									},
									{
										"concept": "a8988b44-1350-11df-a1f1-0026b9348838",
										"label": "Injectables (Depo)"
									},
									{
										"concept": "a897dbd6-1350-11df-a1f1-0026b9348838",
										"label": "Oral contaceptive pills (OCP)"
									},
									{
										"concept": "b75702a6-908d-491b-9399-6495712c81cc",
										"label": "Emergency contraceptive pills"
									},
									{
										"concept": "eaa5796d-0b1c-478b-8c9d-d23cf4c3bddc",
										"label": "Vasectomy"
									}
								],
								"rendering": "select"
							},
							"type": "obs",
							"validators": [],
							"hide": {
								"hideWhenExpression": "familyPlan !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
							}
						},
						{
							"label": "Plan to have children?",
							"type": "obs",
							"id": "planToHaveChildren",
							"questionOptions": {
								"concept": "81faf4e1-112d-4f44-9699-adccf7d68642",
								"answers": [
									{
										"label": "Trying to conceive",
										"concept": "2e78504f-1946-479b-8cd1-d9ded0a68bd5"
									},
									{
										"label": "Future",
										"concept": "fb82f3b4-bcec-4cd2-a0a4-545b02d28a4d"
									},
									{
										"label": "No",
										"concept": "a899b42e-1350-11df-a1f1-0026b9348838"
									},
									{
										"label": "Don't know",
										"concept": "a89e6ae6-1350-11df-a1f1-0026b9348838"
									}
								],
								"rendering": "select"
							},
							"validators": []
						},
						{
							"label": "Clinical notes:",
							"type": "obs",
							"id": "hpiText",
							"questionOptions": {
								"concept": "a89ffbf4-1350-11df-a1f1-0026b9348838",
								"rendering": "textarea",
								"rows": 7
							}
						}
					]
				}
			]
		},
		{
			"label": "GBV Screening",
			"sections": [
				{
					"label": "GBV Screening",
					"isExpanded": "true",
					"questions": [
						{
							"label": "In the last 3 months, has your partner(s) hit, kicked, slapped, or otherwise physically hurt you?",
							"required": "true",
							"id": "physical",
							"type": "obs",
							"questionOptions": {
								"concept": "8fca5b8a-0674-49e5-8111-003db067ee22",
								"rendering": "select",
								"answers": [
									{
										"label": "Yes",
										"concept": "a899b35c-1350-11df-a1f1-0026b9348838"
									},
									{
										"label": "No",
										"concept": "a899b42e-1350-11df-a1f1-0026b9348838"
									}
								]
							}
						},
						{
							"label": "In the last 3 months, has your partner threatened to hurt you or abused you verbally or emotionally? E.g abusing or talking down to you?",
							"required": "true",
							"id": "emmotional",
							"type": "obs",
							"questionOptions": {
								"concept": "374a34e2-71a0-4221-b59e-8d50721330ee",
								"rendering": "select",
								"answers": [
									{
										"label": "Yes",
										"concept": "a899b35c-1350-11df-a1f1-0026b9348838"
									},
									{
										"label": "No",
										"concept": "a899b42e-1350-11df-a1f1-0026b9348838"
									}
								]
							}
						},
						{
							"label": "In the last 3 months, has your partner(s) forced you to do something sexually that made you feel uncomfortable?",
							"required": "true",
							"id": "sexual",
							"type": "obs",
							"questionOptions": {
								"concept": "920709bc-dde6-4d21-863e-851e63c084e4",
								"rendering": "select",
								"answers": [
									{
										"label": "Yes",
										"concept": "a899b35c-1350-11df-a1f1-0026b9348838"
									},
									{
										"label": "No",
										"concept": "a899b42e-1350-11df-a1f1-0026b9348838"
									}
								]
							}
						},
						{
							"label": "In the last 3 months, has your partner (s) deliberately withdrawn any form of support, including financial support?",
							"required": "true",
							"id": "financial",
							"type": "obs",
							"questionOptions": {
								"concept": "c900913e-1fcc-48c5-a39e-fb106c3645dc",
								"rendering": "select",
								"answers": [
									{
										"label": "Yes",
										"concept": "a899b35c-1350-11df-a1f1-0026b9348838"
									},
									{
										"label": "No",
										"concept": "a899b42e-1350-11df-a1f1-0026b9348838"
									}
								]
							}
						},
						{
							"label": "GBV/IPV assessment notes:",
							"type": "obs",
							"id": "gbvText",
							"questionOptions": {
								"concept": "5e4dc798-2cce-4a1a-97e9-bcf22d64b07c",
								"rendering": "textarea",
								"rows": 7
							},
							"validators": [
								{
									"type": "js_expression",
									"failsWhenExpression": "isEmpty(myValue) && (physical === 'a899b35c-1350-11df-a1f1-0026b9348838' || emmotional === 'a899b35c-1350-11df-a1f1-0026b9348838' || sexual === 'a899b35c-1350-11df-a1f1-0026b9348838' || financial === 'a899b35c-1350-11df-a1f1-0026b9348838')",
									"message": "Patient screened positive for GBV/IPV. Please provide notes."
								}
							]
						}
					]
				}
			]
		},
		{
			"label": "PrEP Intiation",
			"sections": [
				{
					"label": "lab Results",
					"isExpanded": "true",
					"questions": [
						{
							"label": "Was hepatitis B (HBsAg) done?",
							"type": "obs",
							"id": "hepBDone",
							"questionOptions": {
								"concept": "2a2eca3d-4269-47ef-a2ac-12afca5f4c5c",
								"answers": [
									{
										"concept": "a899b35c-1350-11df-a1f1-0026b9348838",
										"label": "Yes"
									},
									{
										"concept": "a899b42e-1350-11df-a1f1-0026b9348838",
										"label": "No"
									}
								],
								"rendering": "select"
							},
							"validators": []
						},
						{
							"label": "Hepatitis B(HBsAg)",
							"type": "obs",
							"id": "hepB",
							"questionOptions": {
								"concept": "a89c7a4c-1350-11df-a1f1-0026b9348838",
								"answers": [
									{
										"concept": "a896f3a6-1350-11df-a1f1-0026b9348838",
										"label": "Positive"
									},
									{
										"concept": "a896d2cc-1350-11df-a1f1-0026b9348838",
										"label": "Negative"
									}
								],
								"showDate": "true",
								"rendering": "select",
								"shownDateOptions": {
									"validators": [
										{
											"type": "date"
										},
										{
											"type": "js_expression",
											"failsWhenExpression": "!isEmpty(hepB) && isEmpty(myValue)",
											"message": "Date result is required."
										}
									],
									"hide": {
										"hideWhenExpression": "isEmpty(hepB)"
									}
								}
							},
							"validators": [],
							"hide": {
								"hideWhenExpression": " hepBDone !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
							}
						},
						{
							"label": "If negative,vaccine series initiated?",
							"type": "obs",
							"id": "vaccineInitiated",
							"questionOptions": {
								"concept": "3e062bd6-e681-46d1-a1d1-e593f983b436",
								"answers": [
									{
										"concept": "a899b35c-1350-11df-a1f1-0026b9348838",
										"label": "Yes"
									},
									{
										"concept": "a899b42e-1350-11df-a1f1-0026b9348838",
										"label": "No"
									}
								],
								"rendering": "select"
							},
							"validators": [],
							"hide": {
								"hideWhenExpression": " hepB !== 'a896d2cc-1350-11df-a1f1-0026b9348838'"
							}
						},
						{
							"label": "Was hepatitis C done?",
							"type": "obs",
							"id": "hepCDone",
							"questionOptions": {
								"concept": "9fbf6186-eae2-48f9-bb23-4a34a8c15183",
								"answers": [
									{
										"concept": "a899b35c-1350-11df-a1f1-0026b9348838",
										"label": "Yes"
									},
									{
										"concept": "a899b42e-1350-11df-a1f1-0026b9348838",
										"label": "No"
									}
								],
								"rendering": "select"
							},
							"validators": []
						},
						{
							"label": "Hepatitis C",
							"type": "obs",
							"id": "hepC",
							"questionOptions": {
								"concept": "a89c4e46-1350-11df-a1f1-0026b9348838",
								"answers": [
									{
										"concept": "a896f3a6-1350-11df-a1f1-0026b9348838",
										"label": "Positive"
									},
									{
										"concept": "a896d2cc-1350-11df-a1f1-0026b9348838",
										"label": "Negative"
									}
								],
								"showDate": "true",
								"rendering": "select",
								"shownDateOptions": {
									"validators": [
										{
											"type": "date"
										},
										{
											"type": "js_expression",
											"failsWhenExpression": "!isEmpty(hepC) && isEmpty(myValue)",
											"message": "Date result is required."
										}
									],
									"hide": {
										"hideWhenExpression": "isEmpty(hepC)"
									}
								}
							},
							"validators": [],
							"hide": {
								"hideWhenExpression": " hepCDone !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
							}
						},
						{
							"label": "If negative,vaccine series initiated?",
							"type": "obs",
							"id": "vaccineInitiated",
							"questionOptions": {
								"concept": "3e062bd6-e681-46d1-a1d1-e593f983b436",
								"answers": [
									{
										"concept": "a899b35c-1350-11df-a1f1-0026b9348838",
										"label": "Yes"
									},
									{
										"concept": "a899b42e-1350-11df-a1f1-0026b9348838",
										"label": "No"
									}
								],
								"rendering": "select"
							},
							"validators": [],
							"hide": {
								"hideWhenExpression": " hepC !== 'a896d2cc-1350-11df-a1f1-0026b9348838'"
							}
						},
						{
							"label": "Serum creatinine test done?",
							"type": "obs",
							"id": "creatinineDone",
							"questionOptions": {
								"concept": "e7e33089-5b66-4d14-9e8a-0e763291efa4",
								"answers": [
									{
										"concept": "a899b35c-1350-11df-a1f1-0026b9348838",
										"label": "Yes"
									},
									{
										"concept": "a899b42e-1350-11df-a1f1-0026b9348838",
										"label": "No"
									}
								],
								"rendering": "select"
							},
							"validators": []
						},
						{
							"type": "obs",
							"label": "If done, CrCl (mL/min):",
							"questionInfo": "If creatinine is out of range, or CrCl<50 mL/min, refer for assessment.",
							"id": "creatinineTest",
							"questionOptions": {
								"concept": "a897e450-1350-11df-a1f1-0026b9348838",
								"rendering": "number",
								"showDate": "true",
								"max": "11050",
								"min": "0",
								"shownDateOptions": {
									"validators": [
										{
											"type": "date"
										},
										{
											"type": "js_expression",
											"failsWhenExpression": "!isEmpty(creatinineTest) && isEmpty(myValue)",
											"message": "Date is result is required."
										}
									],
									"hide": {
										"hideWhenExpression": "isEmpty(creatinineTest)"
									}
								}
							},
							"validators": [],
							"hide": {
								"hideWhenExpression": "creatinineDone !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
							},
							"alert": {
								"alertWhenExpression": "!isEmpty(myValue) && creatinineTest <50",
								"message": "Creatinine is out of range, refer for assessment"
							}
						},
						{
							"label": "Labs results, notes:",
							"type": "obs",
							"id": "labresultsText",
							"questionOptions": {
								"concept": "6f5207f4-6785-433b-943e-c2d03e7d3ea7",
								"rendering": "textarea",
								"rows": 15
							}
						}
					]
				},
				{
					"label": "PrEP Use",
					"isExpanded": "true",
					"questions": [
						{
							"label": "Previous PrEP use?",
							"id": "previousPrep",
							"questionOptions": {
								"concept": "580b099c-e6b6-4822-8630-59173deb495d",
								"answers": [
									{
										"label": "Yes",
										"concept": "a899b35c-1350-11df-a1f1-0026b9348838"
									},
									{
										"label": "No",
										"concept": "a899b42e-1350-11df-a1f1-0026b9348838"
									}
								],
								"rendering": "select"
							},
							"type": "obs",
							"validators": []
						},
						{
							"label": "Willing to start PrEP?",
							"required": "true",
							"id": "willingStartPrep",
							"questionOptions": {
								"concept": "d87c11f0-a81d-4796-90f7-899362cdc732",
								"answers": [
									{
										"label": "Yes",
										"concept": "a899b35c-1350-11df-a1f1-0026b9348838"
									},
									{
										"label": "No",
										"concept": "a899b42e-1350-11df-a1f1-0026b9348838"
									}
								],
								"rendering": "select"
							},
							"type": "obs",
							"validators": []
						},
						{
							"label": "If not willing, reason (Mark all that apply):",
							"id": "reasonNotWilling",
							"questionOptions": {
								"concept": "8b4bb415-c7ee-4e84-b235-8e6811a2fb15",
								"answers": [
									{
										"label": "None",
										"concept": "a899e0ac-1350-11df-a1f1-0026b9348838"
									},
									{
										"label": "Side effects",
										"concept": "2ae62639-4703-41dc-be8e-afe50640238b"
									},
									{
										"label": "Stigma",
										"concept": "a89eba46-1350-11df-a1f1-0026b9348838"
									},
									{
										"label": "Pill burden",
										"concept": "ecafa614-49c5-4eba-84c7-b85b0d9e2c46"
									},
									{
										"label": "Taking pills for a long time",
										"concept": "48332db2-71c4-472a-b972-a8a3a5da33fb"
									},
									{
										"label": "Too many HIV tests",
										"concept": "0d57a3e4-5f9b-4a0f-9784-4970d7eeb57d"
									}
								],
								"rendering": "multiCheckbox"
							},
							"type": "obs",
							"validators": [],
							"hide": {
								"hideWhenExpression": "willingStartPrep !== 'a899b42e-1350-11df-a1f1-0026b9348838'"
							}
						},
						{
							"label": "Condom issued:",
							"type": "obs",
							"questionOptions": {
								"rendering": "select",
								"concept": "a8b034d8-1350-11df-a1f1-0026b9348838",
								"answers": [
									{
										"concept": "a899b35c-1350-11df-a1f1-0026b9348838",
										"label": "Yes"
									},
									{
										"concept": "a899b42e-1350-11df-a1f1-0026b9348838",
										"label": "No"
									}
								]
							},
							"validators": [],
							"id": "condomIssue"
						},
						{
							"label": "Adherence counselling done:",
							"type": "obs",
							"questionOptions": {
								"rendering": "select",
								"concept": "a181ff5e-6707-46a3-8872-579524f92380",
								"answers": [
									{
										"concept": "a899b35c-1350-11df-a1f1-0026b9348838",
										"label": "Yes"
									},
									{
										"concept": "a899b42e-1350-11df-a1f1-0026b9348838",
										"label": "No"
									}
								]
							},
							"validators": [],
							"id": "adherenceDone"
						},
						{
							"label": "Signs/symptoms of acute HIV:",
							"type": "obs",
							"questionOptions": {
								"rendering": "select",
								"concept": "39220cda-f62a-4514-8d73-013585e59770",
								"answers": [
									{
										"concept": "a899b35c-1350-11df-a1f1-0026b9348838",
										"label": "Yes"
									},
									{
										"concept": "a899b42e-1350-11df-a1f1-0026b9348838",
										"label": "No"
									}
								]
							},
							"validators": [],
							"id": "acuteHiv"
						},
						{
							"label": "Medically ineligible to start PrEP:",
							"id": "medicalEligible",
							"required": "true",
							"questionOptions": {
								"concept": "bb1c05eb-b27f-4ca7-a5dc-4bb23d1964cd",
								"answers": [
									{
										"label": "Yes",
										"concept": "a899b35c-1350-11df-a1f1-0026b9348838"
									},
									{
										"label": "No",
										"concept": "a899b42e-1350-11df-a1f1-0026b9348838"
									}
								],
								"rendering": "select"
							},
							"type": "obs",
							"validators": []
						},
						{
							"label": "Contraindications for TDF-FTC/TDF-3TC/TDF:",
							"required": "true",
							"id": "contraindications",
							"questionOptions": {
								"concept": "a3263d60-c35c-4a8f-b6a4-7ae68b9e5b19",
								"answers": [
									{
										"label": "Yes",
										"concept": "a899b35c-1350-11df-a1f1-0026b9348838"
									},
									{
										"label": "No",
										"concept": "a899b42e-1350-11df-a1f1-0026b9348838"
									}
								],
								"rendering": "select"
							},
							"type": "obs",
							"validators": [],
							"hide": {
								"hideWhenExpression": "medicalEligible !== 'a899b42e-1350-11df-a1f1-0026b9348838'"
							}
						},
						{
							"label": "Prescribed PrEP at initial visit?",
							"id": "prescribedPrepInitial",
							"required": "true",
							"type": "obs",
							"questionOptions": {
								"rendering": "select",
								"concept": "8a9dd5c3-e731-434b-9759-c3047173046d",
								"answers": [
									{
										"label": "Yes",
										"concept": "a899b35c-1350-11df-a1f1-0026b9348838"
									},
									{
										"label": "No",
										"concept": "a899b42e-1350-11df-a1f1-0026b9348838"
									}
								]
							},
							"hide": {
								"hideWhenExpression": "contraindications !== 'a899b42e-1350-11df-a1f1-0026b9348838'"
							}
						},
						{
							"label": "PrEP regimen plan:",
							"id": "initialPrepDrugsPlan",
							"type": "obs",
							"questionOptions": {
								"concept": "980b94ab-f64d-4730-b602-c127375014b9",
								"answers": [
									{
										"concept": "6766ebbc-3298-11e0-8090-0026b9348838",
										"label": "TDF/FTC"
									},
									{
										"concept": "a89cc876-1350-11df-a1f1-0026b9348838",
										"label": "3TC300mg/TDF300mg"
									},
									{
										"concept": "6fbadffc-3127-11e0-8090-0026b9348838",
										"label": "TDF"
									}
								],
								"rendering": "multiCheckbox"
							},
							"validators": [
								{
									"type": "js_expression",
									"failsWhenExpression": "!isEmpty(prescribedPrepInitial) && prescribedPrepInitial === 'a899b35c-1350-11df-a1f1-0026b9348838' && isEmpty(myValue)",
									"message": "Patient on PrEP.Kindly provide regimen"
								}
							],
							"hide": {
								"hideWhenExpression": "prescribedPrepInitial !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
							}
						},
						{
							"label": "Number of months:",
							"id": "months",
							"type": "obs",
							"questionOptions": {
								"rendering": "number",
								"concept": "3560e1f8-f3c1-4468-969c-25f7467c41e2"
							},
							"hide": {
								"hideWhenExpression": "prescribedPrepInitial !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
							}
						},
						{
							"label": "Date of initiation:",
							"id": "initDate",
							"type": "obs",
							"questionOptions": {
								"rendering": "date",
								"concept": "90ee880d-4aba-4f43-8b8e-88bfade1dbf0"
							},
							"validators": [
								{
									"type": "date",
									"allowFutureDates": "false"
								},
								{
									"type": "js_expression",
									"failsWhenExpression": "(new moment(encDate)).isBefore((new moment(myValue)), 'day') ",
									"message": "Initiation date should be before the encounter date."
								}
							],
							"hide": {
								"hideWhenExpression": "prescribedPrepInitial !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
							}
						}
					]
				}
			]
		},
		{
			"label": "GBV Plan",
			"sections": [
				{
					"label": "GBV Services",
					"isExpanded": "true",
					"questions": [
						{
							"label": "GBV services:",
							"questionOptions": {
								"concept": "e7819751-a5b0-485d-a2bc-9d4aa69aa1e4",
								"answers": [
									{
										"concept": "b76021d2-38c7-42ff-b2eb-0bd558396ef7",
										"label": "STI screening"
									},
									{
										"concept": "a89adc46-1350-11df-a1f1-0026b9348838",
										"label": "Treatment of GBV injuries"
									},
									{
										"concept": "717c50e1-48da-4148-aeee-c49fdd957b64",
										"label": "First line support (LIVES)"
									},
									{
										"concept": "b75702a6-908d-491b-9399-6495712c81cc",
										"label": "Emergency contraceptives"
									},
									{
										"concept": "a89ad3a4-1350-11df-a1f1-0026b9348838",
										"label": "N/A"
									}
								],
								"rendering": "multiCheckbox"
							},
							"type": "obs",
							"validators": [
								{
									"type": "js_expression",
									"failsWhenExpression": "isEmpty(myValue) && (physical === 'a899b35c-1350-11df-a1f1-0026b9348838' || emmotional === 'a899b35c-1350-11df-a1f1-0026b9348838' || sexual === 'a899b35c-1350-11df-a1f1-0026b9348838' || financial === 'a899b35c-1350-11df-a1f1-0026b9348838')",
									"message": "Patient screened positive for GBV/IPV. Please indicate service provided."
								}
							],
							"id": "gbvServices"
						}
					]
				},
				{
					"label": "GBV referrals",
					"questions": [
						{
							"type": "obsGroup",
							"label": "Referrals",
							"questionOptions": {
								"concept": "a8a07c8c-1350-11df-a1f1-0026b9348838",
								"rendering": "group"
							},
							"questions": [
								{
									"label": "Patient referred to:",
									"id": "patientReferrals",
									"questionOptions": {
										"concept": "a89c2344-1350-11df-a1f1-0026b9348838",
										"answers": [
											{
												"concept": "a899e0ac-1350-11df-a1f1-0026b9348838",
												"label": "None"
											},
											{
												"concept": "355b199f-c9c7-4e91-831f-2be17d2c67bd",
												"label": "Legal counsel"
											},
											{
												"concept": "5fc2555b-cae1-4bb8-9cd8-e19c2c04fc37",
												"label": "Police department"
											},
											{
												"concept": "5a089407-22df-4242-99d8-0b4d4da56b75",
												"label": "Child protection services"
											},
											{
												"concept": "a8b02e16-1350-11df-a1f1-0026b9348838",
												"label": "Emergency shelter"
											},
											{
												"concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
												"label": "Other"
											}
										],
										"rendering": "multiCheckbox"
									},
									"type": "obs",
									"validators": [
										{
											"type": "js_expression",
											"failsWhenExpression": "isEmpty(myValue) && (physical === 'a899b35c-1350-11df-a1f1-0026b9348838' || emmotional === 'a899b35c-1350-11df-a1f1-0026b9348838' || sexual === 'a899b35c-1350-11df-a1f1-0026b9348838' || financial === 'a899b35c-1350-11df-a1f1-0026b9348838')",
											"message": "Patient screened positive for GBV/IPV. Please indicate referral ordered."
										}
									]
								},
								{
									"label": "Patient referred to other, (specify):",
									"questionOptions": {
										"concept": "a8a06fc6-1350-11df-a1f1-0026b9348838",
										"rendering": "text"
									},
									"type": "obs",
									"validators": [],
									"hide": {
										"hideWhenExpression": "!arrayContains(['a8aaf3e2-1350-11df-a1f1-0026b9348838'],patientReferrals)"
									},
									"id": "otherReferral"
								}
							],
							"id": "referralsDetailed"
						}
					]
				},
				{
					"label": "Clinical Notes",
					"isExpanded": "true",
					"questions": [
						{
							"label": "Please enter the clinical notes below:",
							"type": "obs",
							"id": "assNote",
							"default": "",
							"questionOptions": {
								"concept": "23f710cc-7f9c-4255-9b6b-c3e240215dba",
								"rendering": "textarea",
								"rows": 5
							}
						}
					]
				}
			]
		},
		{
			"label": "Next Appointment Date",
			"sections": [
				{
					"label": "Next Appointment Date",
					"isExpanded": "true",
					"questions": [
						{
							"label": "Return to clinic date:",
							"type": "obs",
							"required": "true",
							"questionOptions": {
								"concept": "a8a666ba-1350-11df-a1f1-0026b9348838",
								"rendering": "date",
								"weeksList": [
									15,
									30,
									45,
									60,
									90,
									120,
									180
								]
							},
							"validators": [
								{
									"type": "date",
									"allowFutureDates": "true"
								},
								{
									"type": "js_expression",
									"failsWhenExpression": "(new moment(encDate)).isAfter((new moment(myValue)), 'day') || (new moment(encDate)).isSame((new moment(myValue)), 'day')",
									"message": "Return to clinic date should be greater than the encounter date."
								}
							],
							"hide": {
								"hideWhenExpression": "prepStatus === 'a8af50f4-1350-11df-a1f1-0026b9348838'"
							},
							"id": "tca"
						}
					]
				}
			]
		}
	]
}